{"timestamp": "2026-02-25T02:45:12.178870+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T02:45:12.179874+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T02:45:12.179874+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T02:45:12.199874+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T02:45:12.201877+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T02:45:16.321768+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T02:45:16.322270+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T02:45:16.324485+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T02:45:16.324485+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T02:45:24.599923+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1396fdf6"}
{"timestamp": "2026-02-25T02:45:24.600922+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1396fdf6"}
{"timestamp": "2026-02-25T02:45:28.374964+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "2ed86c27"}
{"timestamp": "2026-02-25T02:45:28.375965+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "2ed86c27"}
{"timestamp": "2026-02-25T02:45:28.902901+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e0ab1929"}
{"timestamp": "2026-02-25T02:45:28.903901+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e0ab1929"}
{"timestamp": "2026-02-25T02:45:29.430562+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3813ec1d"}
{"timestamp": "2026-02-25T02:45:29.432562+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3813ec1d"}
{"timestamp": "2026-02-25T02:45:33.397755+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3f966286"}
{"timestamp": "2026-02-25T02:45:33.398754+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=400 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3f966286"}
{"timestamp": "2026-02-25T02:45:37.962568+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e378c4e1"}
{"timestamp": "2026-02-25T02:45:37.965567+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 64e5510a-d544-4b6e-a088-c18ba36a5adf (TestUser)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T02:45:37.965567+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e378c4e1"}
{"timestamp": "2026-02-25T02:45:41.417549+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1abfcd65"}
{"timestamp": "2026-02-25T02:45:41.435573+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.019s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1abfcd65"}
{"timestamp": "2026-02-25T02:45:43.453579+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "52cae8be"}
{"timestamp": "2026-02-25T02:45:43.455578+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T02:45:43.456578+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/勇哥说财经 - 抖音 status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "52cae8be"}
{"timestamp": "2026-02-25T02:45:48.186076+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "23110afe"}
{"timestamp": "2026-02-25T02:45:48.187075+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=400 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "23110afe"}
{"timestamp": "2026-02-25T02:46:16.295035+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "cae75377"}
{"timestamp": "2026-02-25T02:46:16.295035+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "cae75377"}
{"timestamp": "2026-02-25T02:46:18.325611+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a65834b3"}
{"timestamp": "2026-02-25T02:46:18.326611+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a65834b3"}
{"timestamp": "2026-02-25T02:46:20.358506+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a58d36de"}
{"timestamp": "2026-02-25T02:46:20.359505+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a58d36de"}
{"timestamp": "2026-02-25T02:46:22.379778+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d98936bf"}
{"timestamp": "2026-02-25T02:46:22.380784+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/勇哥说财经 - 抖音 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d98936bf"}
{"timestamp": "2026-02-25T02:46:24.435010+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0988466a"}
{"timestamp": "2026-02-25T02:46:24.447964+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: edf87502-7f60-4401-8069-b7c4b9f0ef4b (API测试用户)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T02:46:24.447964+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.013s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0988466a"}
{"timestamp": "2026-02-25T02:46:26.480786+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "85dc3f2c"}
{"timestamp": "2026-02-25T02:46:26.491787+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.011s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "85dc3f2c"}
{"timestamp": "2026-02-25T02:46:28.527337+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a451779a"}
{"timestamp": "2026-02-25T02:46:28.527337+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a451779a"}
{"timestamp": "2026-02-25T02:46:28.543337+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=API测试用户, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T02:46:31.167477+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T02:46:34.870506+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=edf87502-7f60-4401-8069-b7c4b9f0ef4b, blogger=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T02:46:36.941358+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/edf87502-7f60-4401-8069-b7c4b9f0ef4b/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d5d9e524"}
{"timestamp": "2026-02-25T02:46:36.942357+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/edf87502-7f60-4401-8069-b7c4b9f0ef4b/勇哥说财经 - 抖音 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d5d9e524"}
{"timestamp": "2026-02-25T02:46:38.992811+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/edf87502-7f60-4401-8069-b7c4b9f0ef4b", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d6fb1f6f"}
{"timestamp": "2026-02-25T02:46:39.005812+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: edf87502-7f60-4401-8069-b7c4b9f0ef4b", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T02:46:39.005812+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/edf87502-7f60-4401-8069-b7c4b9f0ef4b status=200 duration=0.013s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d6fb1f6f"}
{"timestamp": "2026-02-25T02:46:41.043199+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/nonexistent", "module": "logging", "function": "dispatch", "line": 24, "request_id": "55b0abcd"}
{"timestamp": "2026-02-25T02:46:41.043199+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/nonexistent status=404 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "55b0abcd"}
{"timestamp": "2026-02-25T02:46:43.102526+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/不存在的", "module": "logging", "function": "dispatch", "line": 24, "request_id": "57219e56"}
{"timestamp": "2026-02-25T02:46:43.102526+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/不存在的 status=404 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "57219e56"}
{"timestamp": "2026-02-25T03:59:29.429317+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T03:59:29.430319+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T03:59:29.430319+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T03:59:29.448316+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T03:59:29.450318+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T03:59:33.520555+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T03:59:33.520555+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T03:59:33.522557+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T03:59:33.522557+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T03:59:33.792898+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "156ce300"}
{"timestamp": "2026-02-25T03:59:33.792898+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "156ce300"}
{"timestamp": "2026-02-25T03:59:41.061237+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "db485347"}
{"timestamp": "2026-02-25T03:59:41.063238+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "db485347"}
{"timestamp": "2026-02-25T03:59:41.559011+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "882b3a51"}
{"timestamp": "2026-02-25T03:59:41.559011+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "882b3a51"}
{"timestamp": "2026-02-25T03:59:46.082773+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "83b2a10c"}
{"timestamp": "2026-02-25T03:59:46.083776+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "83b2a10c"}
{"timestamp": "2026-02-25T03:59:52.964495+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "fbcdc396"}
{"timestamp": "2026-02-25T03:59:52.964495+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "fbcdc396"}
{"timestamp": "2026-02-25T04:00:00.343554+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "31546e4e"}
{"timestamp": "2026-02-25T04:00:00.344552+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "31546e4e"}
{"timestamp": "2026-02-25T04:01:23.857074+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "fd552618"}
{"timestamp": "2026-02-25T04:01:23.858073+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "fd552618"}
{"timestamp": "2026-02-25T04:01:25.925405+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ff629301"}
{"timestamp": "2026-02-25T04:01:25.926400+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ff629301"}
{"timestamp": "2026-02-25T04:01:27.965562+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "dfcea44f"}
{"timestamp": "2026-02-25T04:01:27.966562+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "dfcea44f"}
{"timestamp": "2026-02-25T04:01:30.007297+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "09ea52be"}
{"timestamp": "2026-02-25T04:01:30.020998+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: e28ee8b4-3302-4f0c-a7f0-808940f2179f (pytest_user_1771992087)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:01:30.020998+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.014s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "09ea52be"}
{"timestamp": "2026-02-25T04:01:32.041989+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ff534e70"}
{"timestamp": "2026-02-25T04:01:32.054987+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.014s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ff534e70"}
{"timestamp": "2026-02-25T04:01:34.132293+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/e28ee8b4-3302-4f0c-a7f0-808940f2179f", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c04bfdcb"}
{"timestamp": "2026-02-25T04:01:34.134294+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: e28ee8b4-3302-4f0c-a7f0-808940f2179f", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:01:34.134294+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/e28ee8b4-3302-4f0c-a7f0-808940f2179f status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c04bfdcb"}
{"timestamp": "2026-02-25T04:01:36.207981+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ee8f7dc4"}
{"timestamp": "2026-02-25T04:01:36.211981+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ee8f7dc4"}
{"timestamp": "2026-02-25T04:01:38.280406+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/nonexistent-id-12345", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4fc67f91"}
{"timestamp": "2026-02-25T04:01:38.281420+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/nonexistent-id-12345 status=404 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4fc67f91"}
{"timestamp": "2026-02-25T04:01:40.351342+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f18c2f30"}
{"timestamp": "2026-02-25T04:01:40.352342+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f18c2f30"}
{"timestamp": "2026-02-25T04:01:42.409746+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "722e7a37"}
{"timestamp": "2026-02-25T04:01:42.410745+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T04:01:42.410745+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/勇哥说财经 - 抖音 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "722e7a37"}
{"timestamp": "2026-02-25T04:01:44.454907+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/不存在的XYZ", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4065c72d"}
{"timestamp": "2026-02-25T04:01:44.454907+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/不存在的XYZ status=404 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4065c72d"}
{"timestamp": "2026-02-25T04:01:46.470776+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6c254cb9"}
{"timestamp": "2026-02-25T04:01:46.473778+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 38a79569-a153-460b-9e93-8d78e2a5e72a (pytest_history_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:01:46.473778+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6c254cb9"}
{"timestamp": "2026-02-25T04:01:48.545343+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5d671469"}
{"timestamp": "2026-02-25T04:01:48.546346+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5d671469"}
{"timestamp": "2026-02-25T04:01:50.596440+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/38a79569-a153-460b-9e93-8d78e2a5e72a/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "26e4cf26"}
{"timestamp": "2026-02-25T04:01:50.596440+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/38a79569-a153-460b-9e93-8d78e2a5e72a/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "26e4cf26"}
{"timestamp": "2026-02-25T04:01:52.653965+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/38a79569-a153-460b-9e93-8d78e2a5e72a", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b6004a86"}
{"timestamp": "2026-02-25T04:01:52.660964+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 38a79569-a153-460b-9e93-8d78e2a5e72a", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:01:52.661965+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/38a79569-a153-460b-9e93-8d78e2a5e72a status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b6004a86"}
{"timestamp": "2026-02-25T04:01:54.717876+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d38d3e0e"}
{"timestamp": "2026-02-25T04:01:54.722877+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 4bc023ef-e80f-4ad1-951e-9721a0536ed5 (pytest_history_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:01:54.722877+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d38d3e0e"}
{"timestamp": "2026-02-25T04:01:56.788442+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "965c989a"}
{"timestamp": "2026-02-25T04:01:56.789443+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "965c989a"}
{"timestamp": "2026-02-25T04:01:58.809077+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/4bc023ef-e80f-4ad1-951e-9721a0536ed5/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e62026b7"}
{"timestamp": "2026-02-25T04:01:58.810076+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/4bc023ef-e80f-4ad1-951e-9721a0536ed5/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e62026b7"}
{"timestamp": "2026-02-25T04:02:00.858060+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/4bc023ef-e80f-4ad1-951e-9721a0536ed5", "module": "logging", "function": "dispatch", "line": 24, "request_id": "07b98bbc"}
{"timestamp": "2026-02-25T04:02:00.868429+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 4bc023ef-e80f-4ad1-951e-9721a0536ed5", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:02:00.868429+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/4bc023ef-e80f-4ad1-951e-9721a0536ed5 status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "07b98bbc"}
{"timestamp": "2026-02-25T04:02:02.890356+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "fd75307f"}
{"timestamp": "2026-02-25T04:02:02.892356+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 459ea716-9065-4fe6-a0f0-2bf70d9af6a4 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:02:02.892356+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "fd75307f"}
{"timestamp": "2026-02-25T04:02:04.932986+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ee78f686"}
{"timestamp": "2026-02-25T04:02:04.933997+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ee78f686"}
{"timestamp": "2026-02-25T04:02:06.987929+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3a6eec64"}
{"timestamp": "2026-02-25T04:02:06.989927+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3a6eec64"}
{"timestamp": "2026-02-25T04:02:07.009932+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:02:17.045408+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:02:17.202387+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:02:17.219884+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 86, in __await__\n    response = yield from self._call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_interceptor.py\", line 474, in __await__\n    response = yield from call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.PERMISSION_DENIED\n\tdetails = \"Your API key was reported as leaked. Please use another API key.\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer ipv4:142.250.124.95:443 {grpc_status:7, grpc_message:\"Your API key was reported as leaked. Please use another API key.\"}\"\n>\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 385, in generate_content_async\n    response = await self._async_client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 440, in generate_content\n    response = await rpc(\n               ^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 231, in retry_wrapped_func\n    return await retry_target(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 163, in retry_target\n    next_sleep = _retry_error_helper(\n                 ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_base.py\", line 216, in _retry_error_helper\n    raise final_exc from source_exc\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 158, in retry_target\n    return await target()\n           ^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 89, in __await__\n    raise exceptions.from_grpc_error(rpc_error) from rpc_error\ngoogle.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\generate_response.py\", line 40, in generate_response\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: 403 Your API key was reported as leaked. Please use another API key.\nDuring task with name 'generate' and id 'bb62d0cd-6928-7f5e-0165-9911863fb5e9'"}
{"timestamp": "2026-02-25T04:02:19.342158+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/459ea716-9065-4fe6-a0f0-2bf70d9af6a4", "module": "logging", "function": "dispatch", "line": 24, "request_id": "bda29a41"}
{"timestamp": "2026-02-25T04:02:19.356155+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 459ea716-9065-4fe6-a0f0-2bf70d9af6a4", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:02:19.356155+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/459ea716-9065-4fe6-a0f0-2bf70d9af6a4 status=200 duration=0.014s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "bda29a41"}
{"timestamp": "2026-02-25T04:02:21.407408+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "2969c6f5"}
{"timestamp": "2026-02-25T04:02:21.413413+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 709e326d-ec57-464c-ba17-30dec8ecf0ca (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:02:21.414413+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.007s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "2969c6f5"}
{"timestamp": "2026-02-25T04:02:23.461345+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f0380c48"}
{"timestamp": "2026-02-25T04:02:23.462344+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f0380c48"}
{"timestamp": "2026-02-25T04:02:25.487918+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "830dbf9f"}
{"timestamp": "2026-02-25T04:02:25.488918+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "830dbf9f"}
{"timestamp": "2026-02-25T04:02:25.520922+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:02:25.676997+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:02:25.676997+00:00", "level": "WARNING", "logger": "services.analysis_service", "message": "Intent analysis failed, using defaults: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "analysis_service", "function": "analyze_intent", "line": 75}
{"timestamp": "2026-02-25T04:02:25.676997+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:02:26.101359+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:02:26.102359+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 86, in __await__\n    response = yield from self._call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_interceptor.py\", line 474, in __await__\n    response = yield from call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.PERMISSION_DENIED\n\tdetails = \"Your API key was reported as leaked. Please use another API key.\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer ipv4:142.250.124.95:443 {grpc_status:7, grpc_message:\"Your API key was reported as leaked. Please use another API key.\"}\"\n>\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 385, in generate_content_async\n    response = await self._async_client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 440, in generate_content\n    response = await rpc(\n               ^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 231, in retry_wrapped_func\n    return await retry_target(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 163, in retry_target\n    next_sleep = _retry_error_helper(\n                 ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_base.py\", line 216, in _retry_error_helper\n    raise final_exc from source_exc\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 158, in retry_target\n    return await target()\n           ^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 89, in __await__\n    raise exceptions.from_grpc_error(rpc_error) from rpc_error\ngoogle.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\generate_response.py\", line 40, in generate_response\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: 403 Your API key was reported as leaked. Please use another API key.\nDuring task with name 'generate' and id '658210cc-a053-a34f-7700-19e8d4d96dfc'"}
{"timestamp": "2026-02-25T04:02:28.160639+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/709e326d-ec57-464c-ba17-30dec8ecf0ca", "module": "logging", "function": "dispatch", "line": 24, "request_id": "cd88a289"}
{"timestamp": "2026-02-25T04:02:28.169637+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 709e326d-ec57-464c-ba17-30dec8ecf0ca", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:02:28.169637+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/709e326d-ec57-464c-ba17-30dec8ecf0ca status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "cd88a289"}
{"timestamp": "2026-02-25T04:02:30.216984+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f2f85e63"}
{"timestamp": "2026-02-25T04:02:30.220983+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 1084e72e-3ad3-430c-bc72-cf27db4b67b3 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:02:30.220983+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f2f85e63"}
{"timestamp": "2026-02-25T04:02:32.275692+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6e0d6318"}
{"timestamp": "2026-02-25T04:02:32.276692+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6e0d6318"}
{"timestamp": "2026-02-25T04:02:34.343565+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "716c34d5"}
{"timestamp": "2026-02-25T04:02:34.344568+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "716c34d5"}
{"timestamp": "2026-02-25T04:02:36.401059+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/1084e72e-3ad3-430c-bc72-cf27db4b67b3", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8ac0747b"}
{"timestamp": "2026-02-25T04:02:36.410059+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 1084e72e-3ad3-430c-bc72-cf27db4b67b3", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:02:36.410059+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/1084e72e-3ad3-430c-bc72-cf27db4b67b3 status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8ac0747b"}
{"timestamp": "2026-02-25T04:02:38.486098+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0ff07263"}
{"timestamp": "2026-02-25T04:02:38.489099+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: aa2ee11b-5d7e-49b7-acbe-42513605aa3b (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:02:38.490099+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0ff07263"}
{"timestamp": "2026-02-25T04:02:40.540270+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4ae6685b"}
{"timestamp": "2026-02-25T04:02:40.540270+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4ae6685b"}
{"timestamp": "2026-02-25T04:02:42.612330+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "62316955"}
{"timestamp": "2026-02-25T04:02:42.613332+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "62316955"}
{"timestamp": "2026-02-25T04:02:44.697027+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/aa2ee11b-5d7e-49b7-acbe-42513605aa3b", "module": "logging", "function": "dispatch", "line": 24, "request_id": "53d114e5"}
{"timestamp": "2026-02-25T04:02:44.706027+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: aa2ee11b-5d7e-49b7-acbe-42513605aa3b", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:02:44.706027+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/aa2ee11b-5d7e-49b7-acbe-42513605aa3b status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "53d114e5"}
{"timestamp": "2026-02-25T04:02:46.754147+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8aca432b"}
{"timestamp": "2026-02-25T04:02:46.758147+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 21ad940a-2ecb-48d2-b309-7426bd7be092 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:02:46.758147+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8aca432b"}
{"timestamp": "2026-02-25T04:02:48.807905+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a87484f8"}
{"timestamp": "2026-02-25T04:02:48.810904+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a87484f8"}
{"timestamp": "2026-02-25T04:02:50.856849+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a37e18c7"}
{"timestamp": "2026-02-25T04:02:50.857848+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a37e18c7"}
{"timestamp": "2026-02-25T04:02:50.883848+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:02:51.044146+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:02:51.044146+00:00", "level": "WARNING", "logger": "services.analysis_service", "message": "Intent analysis failed, using defaults: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "analysis_service", "function": "analyze_intent", "line": 75}
{"timestamp": "2026-02-25T04:02:51.044146+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:02:51.457359+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:02:51.458361+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 86, in __await__\n    response = yield from self._call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_interceptor.py\", line 474, in __await__\n    response = yield from call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.PERMISSION_DENIED\n\tdetails = \"Your API key was reported as leaked. Please use another API key.\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer ipv4:142.250.124.95:443 {grpc_status:7, grpc_message:\"Your API key was reported as leaked. Please use another API key.\"}\"\n>\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 385, in generate_content_async\n    response = await self._async_client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 440, in generate_content\n    response = await rpc(\n               ^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 231, in retry_wrapped_func\n    return await retry_target(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 163, in retry_target\n    next_sleep = _retry_error_helper(\n                 ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_base.py\", line 216, in _retry_error_helper\n    raise final_exc from source_exc\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 158, in retry_target\n    return await target()\n           ^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 89, in __await__\n    raise exceptions.from_grpc_error(rpc_error) from rpc_error\ngoogle.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\generate_response.py\", line 40, in generate_response\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: 403 Your API key was reported as leaked. Please use another API key.\nDuring task with name 'generate' and id '804a9414-1fe0-2721-db4c-bf44abd6f16b'"}
{"timestamp": "2026-02-25T04:02:53.509516+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/21ad940a-2ecb-48d2-b309-7426bd7be092", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ca53de04"}
{"timestamp": "2026-02-25T04:02:53.520515+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 21ad940a-2ecb-48d2-b309-7426bd7be092", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:02:53.520515+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/21ad940a-2ecb-48d2-b309-7426bd7be092 status=200 duration=0.012s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ca53de04"}
{"timestamp": "2026-02-25T04:02:55.599165+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a824b443"}
{"timestamp": "2026-02-25T04:02:55.603165+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 2f7f0355-b40b-4437-b547-5ccbb9491cae (pytest_e2e)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:02:55.603165+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a824b443"}
{"timestamp": "2026-02-25T04:02:57.632470+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "da8623d3"}
{"timestamp": "2026-02-25T04:02:57.634478+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "da8623d3"}
{"timestamp": "2026-02-25T04:02:59.703342+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0819fadb"}
{"timestamp": "2026-02-25T04:02:59.704344+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0819fadb"}
{"timestamp": "2026-02-25T04:03:01.749168+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/2f7f0355-b40b-4437-b547-5ccbb9491cae/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "df4397f0"}
{"timestamp": "2026-02-25T04:03:01.749168+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/2f7f0355-b40b-4437-b547-5ccbb9491cae/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "df4397f0"}
{"timestamp": "2026-02-25T04:03:03.804002+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "994de728"}
{"timestamp": "2026-02-25T04:03:03.804002+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "994de728"}
{"timestamp": "2026-02-25T04:03:03.826802+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_e2e, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:03:03.986149+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:03:03.986149+00:00", "level": "WARNING", "logger": "services.analysis_service", "message": "Intent analysis failed, using defaults: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "analysis_service", "function": "analyze_intent", "line": 75}
{"timestamp": "2026-02-25T04:03:03.986149+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:03:04.399343+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:03:04.400344+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 86, in __await__\n    response = yield from self._call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_interceptor.py\", line 474, in __await__\n    response = yield from call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.PERMISSION_DENIED\n\tdetails = \"Your API key was reported as leaked. Please use another API key.\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer ipv4:142.250.124.95:443 {grpc_message:\"Your API key was reported as leaked. Please use another API key.\", grpc_status:7}\"\n>\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 385, in generate_content_async\n    response = await self._async_client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 440, in generate_content\n    response = await rpc(\n               ^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 231, in retry_wrapped_func\n    return await retry_target(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 163, in retry_target\n    next_sleep = _retry_error_helper(\n                 ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_base.py\", line 216, in _retry_error_helper\n    raise final_exc from source_exc\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 158, in retry_target\n    return await target()\n           ^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 89, in __await__\n    raise exceptions.from_grpc_error(rpc_error) from rpc_error\ngoogle.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\greeting_flow.py\", line 51, in greeting_flow\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: 403 Your API key was reported as leaked. Please use another API key.\nDuring task with name 'greeting' and id '5fddae9a-5647-5c0a-d829-9198d0dc8f54'"}
{"timestamp": "2026-02-25T04:03:06.435689+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/2f7f0355-b40b-4437-b547-5ccbb9491cae", "module": "logging", "function": "dispatch", "line": 24, "request_id": "358ce8bd"}
{"timestamp": "2026-02-25T04:03:06.445693+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 2f7f0355-b40b-4437-b547-5ccbb9491cae", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:03:06.445693+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/2f7f0355-b40b-4437-b547-5ccbb9491cae status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "358ce8bd"}
{"timestamp": "2026-02-25T04:03:18.812785+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6acf9dbd"}
{"timestamp": "2026-02-25T04:03:18.824971+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 7b73520e-4b81-494e-8d62-38cf0b83d4d6 (debug_test)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:03:18.824971+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.013s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6acf9dbd"}
{"timestamp": "2026-02-25T04:03:20.844269+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6f4cf7c3"}
{"timestamp": "2026-02-25T04:03:20.845269+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6f4cf7c3"}
{"timestamp": "2026-02-25T04:03:22.891983+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "49d6a9c0"}
{"timestamp": "2026-02-25T04:03:22.891983+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "49d6a9c0"}
{"timestamp": "2026-02-25T04:03:22.912751+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=debug_test, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:03:23.077405+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:03:23.077405+00:00", "level": "WARNING", "logger": "services.analysis_service", "message": "Intent analysis failed, using defaults: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "analysis_service", "function": "analyze_intent", "line": 75}
{"timestamp": "2026-02-25T04:03:23.077405+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:03:23.492871+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:03:23.493872+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 86, in __await__\n    response = yield from self._call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_interceptor.py\", line 474, in __await__\n    response = yield from call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.PERMISSION_DENIED\n\tdetails = \"Your API key was reported as leaked. Please use another API key.\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer ipv4:142.250.124.95:443 {grpc_message:\"Your API key was reported as leaked. Please use another API key.\", grpc_status:7}\"\n>\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 385, in generate_content_async\n    response = await self._async_client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 440, in generate_content\n    response = await rpc(\n               ^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 231, in retry_wrapped_func\n    return await retry_target(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 163, in retry_target\n    next_sleep = _retry_error_helper(\n                 ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_base.py\", line 216, in _retry_error_helper\n    raise final_exc from source_exc\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 158, in retry_target\n    return await target()\n           ^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 89, in __await__\n    raise exceptions.from_grpc_error(rpc_error) from rpc_error\ngoogle.api_core.exceptions.PermissionDenied: 403 Your API key was reported as leaked. Please use another API key.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\greeting_flow.py\", line 51, in greeting_flow\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: 403 Your API key was reported as leaked. Please use another API key.\nDuring task with name 'greeting' and id 'c8fac0e9-02ce-d2bc-5120-e8592f9ae0e8'"}
{"timestamp": "2026-02-25T04:03:25.510962+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/7b73520e-4b81-494e-8d62-38cf0b83d4d6", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d204172b"}
{"timestamp": "2026-02-25T04:03:25.519961+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 7b73520e-4b81-494e-8d62-38cf0b83d4d6", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:03:25.519961+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/7b73520e-4b81-494e-8d62-38cf0b83d4d6 status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d204172b"}
{"timestamp": "2026-02-25T04:12:05.009966+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "190fa471"}
{"timestamp": "2026-02-25T04:12:05.009966+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "190fa471"}
{"timestamp": "2026-02-25T04:12:11.903807+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c247340b"}
{"timestamp": "2026-02-25T04:12:11.904813+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c247340b"}
{"timestamp": "2026-02-25T04:13:10.827535+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4cee7fe2"}
{"timestamp": "2026-02-25T04:13:10.827535+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4cee7fe2"}
{"timestamp": "2026-02-25T04:13:12.884603+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "dc7e6cf1"}
{"timestamp": "2026-02-25T04:13:12.884603+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "dc7e6cf1"}
{"timestamp": "2026-02-25T04:13:14.944797+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0ff41ea9"}
{"timestamp": "2026-02-25T04:13:14.945798+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0ff41ea9"}
{"timestamp": "2026-02-25T04:13:17.000955+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ec7e10d6"}
{"timestamp": "2026-02-25T04:13:17.003955+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 69d8f90f-b7d5-42c7-a066-69fec7466a69 (pytest_user_1771992794)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:13:17.003955+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ec7e10d6"}
{"timestamp": "2026-02-25T04:13:19.071821+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f3289c5a"}
{"timestamp": "2026-02-25T04:13:19.080820+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f3289c5a"}
{"timestamp": "2026-02-25T04:13:21.138129+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/69d8f90f-b7d5-42c7-a066-69fec7466a69", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ba04b497"}
{"timestamp": "2026-02-25T04:13:21.139129+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 69d8f90f-b7d5-42c7-a066-69fec7466a69", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:13:21.140129+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/69d8f90f-b7d5-42c7-a066-69fec7466a69 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ba04b497"}
{"timestamp": "2026-02-25T04:13:23.215572+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "755bbd5c"}
{"timestamp": "2026-02-25T04:13:23.216573+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "755bbd5c"}
{"timestamp": "2026-02-25T04:13:25.276004+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/nonexistent-id-12345", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3efd0292"}
{"timestamp": "2026-02-25T04:13:25.277006+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/nonexistent-id-12345 status=404 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3efd0292"}
{"timestamp": "2026-02-25T04:13:27.316795+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d74b23f0"}
{"timestamp": "2026-02-25T04:13:27.317795+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d74b23f0"}
{"timestamp": "2026-02-25T04:13:29.373771+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6e8ffb48"}
{"timestamp": "2026-02-25T04:13:29.373771+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/勇哥说财经 - 抖音 status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6e8ffb48"}
{"timestamp": "2026-02-25T04:13:31.444338+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/不存在的XYZ", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4a206f9c"}
{"timestamp": "2026-02-25T04:13:31.444338+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/不存在的XYZ status=404 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4a206f9c"}
{"timestamp": "2026-02-25T04:13:33.500580+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f43dc683"}
{"timestamp": "2026-02-25T04:13:33.502580+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 0dab6260-5b3a-4636-80bb-686d0b2be012 (pytest_history_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:13:33.502580+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f43dc683"}
{"timestamp": "2026-02-25T04:13:35.590516+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0680ec46"}
{"timestamp": "2026-02-25T04:13:35.592514+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0680ec46"}
{"timestamp": "2026-02-25T04:13:37.661741+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/0dab6260-5b3a-4636-80bb-686d0b2be012/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3ae17ef2"}
{"timestamp": "2026-02-25T04:13:37.663741+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/0dab6260-5b3a-4636-80bb-686d0b2be012/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3ae17ef2"}
{"timestamp": "2026-02-25T04:13:39.686073+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/0dab6260-5b3a-4636-80bb-686d0b2be012", "module": "logging", "function": "dispatch", "line": 24, "request_id": "fec8b3f6"}
{"timestamp": "2026-02-25T04:13:39.699070+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 0dab6260-5b3a-4636-80bb-686d0b2be012", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:13:39.699070+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/0dab6260-5b3a-4636-80bb-686d0b2be012 status=200 duration=0.013s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "fec8b3f6"}
{"timestamp": "2026-02-25T04:13:41.759517+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "57e65705"}
{"timestamp": "2026-02-25T04:13:41.762735+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 80d5d583-b6f9-4201-8f9b-aa1afebad5e2 (pytest_history_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:13:41.762735+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "57e65705"}
{"timestamp": "2026-02-25T04:13:43.791198+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3d0d8d01"}
{"timestamp": "2026-02-25T04:13:43.792197+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3d0d8d01"}
{"timestamp": "2026-02-25T04:13:45.848376+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/80d5d583-b6f9-4201-8f9b-aa1afebad5e2/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f461a8a5"}
{"timestamp": "2026-02-25T04:13:45.848376+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/80d5d583-b6f9-4201-8f9b-aa1afebad5e2/勇哥说财经 - 抖音 status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f461a8a5"}
{"timestamp": "2026-02-25T04:13:47.903106+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/80d5d583-b6f9-4201-8f9b-aa1afebad5e2", "module": "logging", "function": "dispatch", "line": 24, "request_id": "acd4f365"}
{"timestamp": "2026-02-25T04:13:47.916106+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 80d5d583-b6f9-4201-8f9b-aa1afebad5e2", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:13:47.916106+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/80d5d583-b6f9-4201-8f9b-aa1afebad5e2 status=200 duration=0.013s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "acd4f365"}
{"timestamp": "2026-02-25T04:13:49.948750+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b164f790"}
{"timestamp": "2026-02-25T04:13:49.951753+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 4ed25b9b-250e-40ac-8808-a573ba2259aa (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:13:49.951753+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b164f790"}
{"timestamp": "2026-02-25T04:13:52.005668+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8d749d7a"}
{"timestamp": "2026-02-25T04:13:52.006669+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8d749d7a"}
{"timestamp": "2026-02-25T04:13:54.065029+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "79c26413"}
{"timestamp": "2026-02-25T04:13:54.066030+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "79c26413"}
{"timestamp": "2026-02-25T04:13:54.092132+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:13:54.381122+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:13:54.381122+00:00", "level": "WARNING", "logger": "services.analysis_service", "message": "Intent analysis failed, using defaults: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "analysis_service", "function": "analyze_intent", "line": 75}
{"timestamp": "2026-02-25T04:13:54.381122+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:13:54.796306+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:13:54.797306+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 86, in __await__\n    response = yield from self._call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_interceptor.py\", line 474, in __await__\n    response = yield from call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.INVALID_ARGUMENT\n\tdetails = \"API key expired. Please renew the API key.\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer ipv4:142.250.124.95:443 {grpc_message:\"API key expired. Please renew the API key.\", grpc_status:3}\"\n>\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 385, in generate_content_async\n    response = await self._async_client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 440, in generate_content\n    response = await rpc(\n               ^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 231, in retry_wrapped_func\n    return await retry_target(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 163, in retry_target\n    next_sleep = _retry_error_helper(\n                 ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_base.py\", line 216, in _retry_error_helper\n    raise final_exc from source_exc\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 158, in retry_target\n    return await target()\n           ^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 89, in __await__\n    raise exceptions.from_grpc_error(rpc_error) from rpc_error\ngoogle.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\greeting_flow.py\", line 51, in greeting_flow\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]\nDuring task with name 'greeting' and id '2cdcee6c-0649-4aa9-6b3d-8c7000debb46'"}
{"timestamp": "2026-02-25T04:13:56.906127+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/4ed25b9b-250e-40ac-8808-a573ba2259aa", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6afcd28a"}
{"timestamp": "2026-02-25T04:13:56.915129+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 4ed25b9b-250e-40ac-8808-a573ba2259aa", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:13:56.915129+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/4ed25b9b-250e-40ac-8808-a573ba2259aa status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6afcd28a"}
{"timestamp": "2026-02-25T04:13:58.960008+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c58619d4"}
{"timestamp": "2026-02-25T04:13:58.964006+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 7e315ff6-61a8-4931-8c73-c3b9d84ada0e (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:13:58.965007+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c58619d4"}
{"timestamp": "2026-02-25T04:14:01.014018+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4bcc0313"}
{"timestamp": "2026-02-25T04:14:01.014018+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4bcc0313"}
{"timestamp": "2026-02-25T04:14:03.057853+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "858febf7"}
{"timestamp": "2026-02-25T04:14:03.058857+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "858febf7"}
{"timestamp": "2026-02-25T04:14:03.079115+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:14:03.219646+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:14:03.219646+00:00", "level": "WARNING", "logger": "services.analysis_service", "message": "Intent analysis failed, using defaults: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "analysis_service", "function": "analyze_intent", "line": 75}
{"timestamp": "2026-02-25T04:14:03.219646+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:14:03.732211+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:14:03.733212+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 86, in __await__\n    response = yield from self._call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_interceptor.py\", line 474, in __await__\n    response = yield from call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.INVALID_ARGUMENT\n\tdetails = \"API key expired. Please renew the API key.\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer ipv4:142.250.124.95:443 {grpc_status:3, grpc_message:\"API key expired. Please renew the API key.\"}\"\n>\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 385, in generate_content_async\n    response = await self._async_client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 440, in generate_content\n    response = await rpc(\n               ^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 231, in retry_wrapped_func\n    return await retry_target(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 163, in retry_target\n    next_sleep = _retry_error_helper(\n                 ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_base.py\", line 216, in _retry_error_helper\n    raise final_exc from source_exc\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 158, in retry_target\n    return await target()\n           ^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 89, in __await__\n    raise exceptions.from_grpc_error(rpc_error) from rpc_error\ngoogle.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\generate_response.py\", line 40, in generate_response\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]\nDuring task with name 'generate' and id '50bad58c-7a3c-b002-edf6-3ba90d420e58'"}
{"timestamp": "2026-02-25T04:14:05.801151+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/7e315ff6-61a8-4931-8c73-c3b9d84ada0e", "module": "logging", "function": "dispatch", "line": 24, "request_id": "97cfa740"}
{"timestamp": "2026-02-25T04:14:05.810154+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 7e315ff6-61a8-4931-8c73-c3b9d84ada0e", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:14:05.810154+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/7e315ff6-61a8-4931-8c73-c3b9d84ada0e status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "97cfa740"}
{"timestamp": "2026-02-25T04:14:07.886485+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4cc90f31"}
{"timestamp": "2026-02-25T04:14:07.889488+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: a363a520-50d9-46df-9154-095dc56684fe (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:14:07.889488+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4cc90f31"}
{"timestamp": "2026-02-25T04:14:09.955631+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b6b97307"}
{"timestamp": "2026-02-25T04:14:09.956633+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b6b97307"}
{"timestamp": "2026-02-25T04:14:11.997213+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "bd208847"}
{"timestamp": "2026-02-25T04:14:11.999214+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "bd208847"}
{"timestamp": "2026-02-25T04:14:14.072112+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/a363a520-50d9-46df-9154-095dc56684fe", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ab7a8239"}
{"timestamp": "2026-02-25T04:14:14.084616+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: a363a520-50d9-46df-9154-095dc56684fe", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:14:14.085617+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/a363a520-50d9-46df-9154-095dc56684fe status=200 duration=0.014s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ab7a8239"}
{"timestamp": "2026-02-25T04:14:16.132197+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "49e910eb"}
{"timestamp": "2026-02-25T04:14:16.139190+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: d8f22903-aa4d-45eb-a040-052293cfa05d (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:14:16.139190+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.007s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "49e910eb"}
{"timestamp": "2026-02-25T04:14:18.178014+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "914453ee"}
{"timestamp": "2026-02-25T04:14:18.180012+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "914453ee"}
{"timestamp": "2026-02-25T04:14:20.267429+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7fe996b0"}
{"timestamp": "2026-02-25T04:14:20.267429+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7fe996b0"}
{"timestamp": "2026-02-25T04:14:22.323591+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/d8f22903-aa4d-45eb-a040-052293cfa05d", "module": "logging", "function": "dispatch", "line": 24, "request_id": "cc21eb4b"}
{"timestamp": "2026-02-25T04:14:22.333592+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: d8f22903-aa4d-45eb-a040-052293cfa05d", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:14:22.333592+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/d8f22903-aa4d-45eb-a040-052293cfa05d status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "cc21eb4b"}
{"timestamp": "2026-02-25T04:14:24.384680+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "fe8c66ea"}
{"timestamp": "2026-02-25T04:14:24.387679+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 4f41606a-1d64-4f99-9458-eee47d736129 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:14:24.387679+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "fe8c66ea"}
{"timestamp": "2026-02-25T04:14:26.455284+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f130a1b6"}
{"timestamp": "2026-02-25T04:14:26.456283+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f130a1b6"}
{"timestamp": "2026-02-25T04:14:28.511325+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "18ac66bd"}
{"timestamp": "2026-02-25T04:14:28.512324+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "18ac66bd"}
{"timestamp": "2026-02-25T04:14:28.534323+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:14:28.689574+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:14:28.689574+00:00", "level": "WARNING", "logger": "services.analysis_service", "message": "Intent analysis failed, using defaults: Generation failed: 403 Your API key was reported as leaked. Please use another API key.", "module": "analysis_service", "function": "analyze_intent", "line": 75}
{"timestamp": "2026-02-25T04:14:28.689574+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:14:29.080267+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:14:29.083267+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 86, in __await__\n    response = yield from self._call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_interceptor.py\", line 474, in __await__\n    response = yield from call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.INVALID_ARGUMENT\n\tdetails = \"API key expired. Please renew the API key.\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer ipv4:142.250.124.95:443 {grpc_status:3, grpc_message:\"API key expired. Please renew the API key.\"}\"\n>\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 385, in generate_content_async\n    response = await self._async_client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 440, in generate_content\n    response = await rpc(\n               ^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 231, in retry_wrapped_func\n    return await retry_target(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 163, in retry_target\n    next_sleep = _retry_error_helper(\n                 ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_base.py\", line 216, in _retry_error_helper\n    raise final_exc from source_exc\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 158, in retry_target\n    return await target()\n           ^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 89, in __await__\n    raise exceptions.from_grpc_error(rpc_error) from rpc_error\ngoogle.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\generate_response.py\", line 40, in generate_response\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]\nDuring task with name 'generate' and id '73d95db1-a58c-b4a8-0544-481bcda3700d'"}
{"timestamp": "2026-02-25T04:14:31.161385+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/4f41606a-1d64-4f99-9458-eee47d736129", "module": "logging", "function": "dispatch", "line": 24, "request_id": "28cff3fb"}
{"timestamp": "2026-02-25T04:14:31.170385+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 4f41606a-1d64-4f99-9458-eee47d736129", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:14:31.170385+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/4f41606a-1d64-4f99-9458-eee47d736129 status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "28cff3fb"}
{"timestamp": "2026-02-25T04:14:33.234047+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "26139454"}
{"timestamp": "2026-02-25T04:14:33.237048+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 47618e0c-aca4-4c4e-85ea-d4fca9fd47a0 (pytest_e2e)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:14:33.237048+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "26139454"}
{"timestamp": "2026-02-25T04:14:35.291552+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f9fa4bb7"}
{"timestamp": "2026-02-25T04:14:35.291552+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f9fa4bb7"}
{"timestamp": "2026-02-25T04:14:37.356122+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "02f3d22a"}
{"timestamp": "2026-02-25T04:14:37.356122+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/勇哥说财经 - 抖音 status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "02f3d22a"}
{"timestamp": "2026-02-25T04:14:39.409093+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/47618e0c-aca4-4c4e-85ea-d4fca9fd47a0/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "726aef70"}
{"timestamp": "2026-02-25T04:14:39.410093+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/47618e0c-aca4-4c4e-85ea-d4fca9fd47a0/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "726aef70"}
{"timestamp": "2026-02-25T04:14:41.457647+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c8058ce4"}
{"timestamp": "2026-02-25T04:14:41.457647+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c8058ce4"}
{"timestamp": "2026-02-25T04:14:41.477645+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_e2e, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:14:41.622804+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:14:41.622804+00:00", "level": "WARNING", "logger": "services.analysis_service", "message": "Intent analysis failed, using defaults: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "analysis_service", "function": "analyze_intent", "line": 75}
{"timestamp": "2026-02-25T04:14:41.622804+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:14:42.019803+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:14:42.020803+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 86, in __await__\n    response = yield from self._call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_interceptor.py\", line 474, in __await__\n    response = yield from call.__await__()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\grpc\\aio\\_call.py\", line 327, in __await__\n    raise _create_rpc_error(\ngrpc.aio._call.AioRpcError: <AioRpcError of RPC that terminated with:\n\tstatus = StatusCode.INVALID_ARGUMENT\n\tdetails = \"API key expired. Please renew the API key.\"\n\tdebug_error_string = \"UNKNOWN:Error received from peer ipv4:142.250.124.95:443 {grpc_status:3, grpc_message:\"API key expired. Please renew the API key.\"}\"\n>\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 385, in generate_content_async\n    response = await self._async_client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 440, in generate_content\n    response = await rpc(\n               ^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 231, in retry_wrapped_func\n    return await retry_target(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 163, in retry_target\n    next_sleep = _retry_error_helper(\n                 ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_base.py\", line 216, in _retry_error_helper\n    raise final_exc from source_exc\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\retry\\retry_unary_async.py\", line 158, in retry_target\n    return await target()\n           ^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\api_core\\grpc_helpers_async.py\", line 89, in __await__\n    raise exceptions.from_grpc_error(rpc_error) from rpc_error\ngoogle.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\greeting_flow.py\", line 51, in greeting_flow\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]\nDuring task with name 'greeting' and id '5286f60c-d3ad-efca-4d74-0436a80dc137'"}
{"timestamp": "2026-02-25T04:14:44.076092+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/47618e0c-aca4-4c4e-85ea-d4fca9fd47a0", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d3187337"}
{"timestamp": "2026-02-25T04:14:44.085095+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 47618e0c-aca4-4c4e-85ea-d4fca9fd47a0", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:14:44.085095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/47618e0c-aca4-4c4e-85ea-d4fca9fd47a0 status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d3187337"}
{"timestamp": "2026-02-25T04:15:11.231757+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T04:15:11.232757+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T04:15:11.232757+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T04:15:11.248756+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T04:15:11.250756+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T04:15:15.302593+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T04:15:15.302593+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T04:15:15.304594+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T04:15:15.304594+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T04:15:15.629362+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "63d95058"}
{"timestamp": "2026-02-25T04:15:15.630361+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "63d95058"}
{"timestamp": "2026-02-25T04:15:28.331709+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T04:15:28.332709+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T04:15:28.332709+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T04:15:28.348709+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T04:15:28.350708+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T04:15:32.454748+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T04:15:32.455748+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T04:15:32.457748+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T04:15:32.457748+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T04:15:32.457748+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T04:15:32.457748+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 75}
{"timestamp": "2026-02-25T04:15:32.457748+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T04:15:32.457748+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T04:15:32.457748+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 78}
{"timestamp": "2026-02-25T04:15:32.863661+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b457bd65"}
{"timestamp": "2026-02-25T04:15:32.863661+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b457bd65"}
{"timestamp": "2026-02-25T04:15:45.100377+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3442f4c6"}
{"timestamp": "2026-02-25T04:15:45.105378+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: d2cdae43-f272-4610-a236-3452479e6093 (quick_test)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:15:45.105378+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3442f4c6"}
{"timestamp": "2026-02-25T04:15:47.143129+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f2ebde72"}
{"timestamp": "2026-02-25T04:15:47.144129+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f2ebde72"}
{"timestamp": "2026-02-25T04:15:49.185169+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "26d859d0"}
{"timestamp": "2026-02-25T04:15:49.187168+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "26d859d0"}
{"timestamp": "2026-02-25T04:15:49.204167+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T04:15:49.210167+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=quick_test, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:15:52.378244+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: \n  No API_KEY or ADC found. Please either:\n    - Set the `GOOGLE_API_KEY` environment variable.\n    - Manually pass the key with `genai.configure(api_key=my_api_key)`.\n    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:15:52.378244+00:00", "level": "WARNING", "logger": "services.analysis_service", "message": "Intent analysis failed, using defaults: Generation failed: \n  No API_KEY or ADC found. Please either:\n    - Set the `GOOGLE_API_KEY` environment variable.\n    - Manually pass the key with `genai.configure(api_key=my_api_key)`.\n    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.", "module": "analysis_service", "function": "analyze_intent", "line": 75}
{"timestamp": "2026-02-25T04:15:52.378244+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:15:55.430892+00:00", "level": "ERROR", "logger": "services.llm_service", "message": "LLM generation failed: \n  No API_KEY or ADC found. Please either:\n    - Set the `GOOGLE_API_KEY` environment variable.\n    - Manually pass the key with `genai.configure(api_key=my_api_key)`.\n    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.", "module": "llm_service", "function": "generate", "line": 55}
{"timestamp": "2026-02-25T04:15:55.446077+00:00", "level": "ERROR", "logger": "api.routes.chat", "message": "Chat error: Generation failed: \n  No API_KEY or ADC found. Please either:\n    - Set the `GOOGLE_API_KEY` environment variable.\n    - Manually pass the key with `genai.configure(api_key=my_api_key)`.\n    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.", "module": "chat", "function": "event_stream", "line": 49, "exception": "Traceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 46, in generate\n    response = await chat.send_message_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 707, in send_message_async\n    response = await self.model.generate_content_async(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\generative_models.py\", line 371, in generate_content_async\n    self._async_client = client.get_default_generative_async_client()\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\client.py\", line 364, in get_default_generative_async_client\n    return _client_manager.get_default_client(\"generative_async\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\client.py\", line 289, in get_default_client\n    client = self.make_client(name)\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\client.py\", line 249, in make_client\n    raise e\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\generativeai\\client.py\", line 241, in make_client\n    client = cls(**self.client_config)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\async_client.py\", line 275, in __init__\n    self._client = GenerativeServiceClient(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\client.py\", line 667, in __init__\n    self._transport = transport_init(\n                      ^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\transports\\grpc_asyncio.py\", line 283, in __init__\n    super().__init__(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\ai\\generativelanguage_v1beta\\services\\generative_service\\transports\\base.py\", line 100, in __init__\n    credentials, _ = google.auth.default(\n                     ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\google\\auth\\_default.py\", line 752, in default\n    raise exceptions.DefaultCredentialsError(_CLOUD_SDK_MISSING_CREDENTIALS)\ngoogle.auth.exceptions.DefaultCredentialsError: \n  No API_KEY or ADC found. Please either:\n    - Set the `GOOGLE_API_KEY` environment variable.\n    - Manually pass the key with `genai.configure(api_key=my_api_key)`.\n    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\api\\routes\\chat.py\", line 34, in event_stream\n    async for event in engine.chat_stream(\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 146, in chat_stream\n    result = await self.chat(user_id, blogger_name, message, model)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 122, in chat\n    result = await self._compiled_graph.ainvoke(initial_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 3161, in ainvoke\n    async for chunk in self.astream(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 38, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\greeting_flow.py\", line 51, in greeting_flow\n    response = await generation_service.generate(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\generation_service.py\", line 90, in generate\n    return await self._llm.generate(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\services\\llm_service.py\", line 56, in generate\n    raise LLMError(f\"Generation failed: {e}\")\ncommon.exceptions.LLMError: Generation failed: \n  No API_KEY or ADC found. Please either:\n    - Set the `GOOGLE_API_KEY` environment variable.\n    - Manually pass the key with `genai.configure(api_key=my_api_key)`.\n    - Or set up Application Default Credentials, see https://ai.google.dev/gemini-api/docs/oauth for more information.\nDuring task with name 'greeting' and id '4d98ada9-f4bd-6c06-13b7-f244cbfe5d38'"}
{"timestamp": "2026-02-25T04:15:57.493180+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/d2cdae43-f272-4610-a236-3452479e6093", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4d348232"}
{"timestamp": "2026-02-25T04:15:57.500180+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: d2cdae43-f272-4610-a236-3452479e6093", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:15:57.500180+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/d2cdae43-f272-4610-a236-3452479e6093 status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4d348232"}
{"timestamp": "2026-02-25T04:23:31.753212+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T04:23:31.754212+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T04:23:31.754212+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T04:23:31.770212+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T04:23:31.772212+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T04:23:35.867803+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T04:23:35.868802+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T04:23:35.870802+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T04:23:35.870802+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T04:23:36.806327+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "585a0d63"}
{"timestamp": "2026-02-25T04:23:36.807325+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "585a0d63"}
{"timestamp": "2026-02-25T04:23:48.499820+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e9599060"}
{"timestamp": "2026-02-25T04:23:48.503819+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 547cf9f0-980b-44fd-852e-bba3292bbc70 (keytest)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:23:48.503819+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e9599060"}
{"timestamp": "2026-02-25T04:23:50.543621+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "03aaec4d"}
{"timestamp": "2026-02-25T04:23:50.544621+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "03aaec4d"}
{"timestamp": "2026-02-25T04:23:52.599959+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "cae93e26"}
{"timestamp": "2026-02-25T04:23:52.600959+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "cae93e26"}
{"timestamp": "2026-02-25T04:23:52.625966+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T04:23:52.632473+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=keytest, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:23:55.462656+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:23:58.599366+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=547cf9f0-980b-44fd-852e-bba3292bbc70, blogger=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T04:24:00.661377+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/547cf9f0-980b-44fd-852e-bba3292bbc70", "module": "logging", "function": "dispatch", "line": 24, "request_id": "43d37d92"}
{"timestamp": "2026-02-25T04:24:00.671378+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 547cf9f0-980b-44fd-852e-bba3292bbc70", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:24:00.671378+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/547cf9f0-980b-44fd-852e-bba3292bbc70 status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "43d37d92"}
{"timestamp": "2026-02-25T04:24:08.121219+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9c7cb611"}
{"timestamp": "2026-02-25T04:24:08.122213+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9c7cb611"}
{"timestamp": "2026-02-25T04:24:10.200327+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "80f2157b"}
{"timestamp": "2026-02-25T04:24:10.201328+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "80f2157b"}
{"timestamp": "2026-02-25T04:24:12.261385+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c1287cbd"}
{"timestamp": "2026-02-25T04:24:12.262384+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c1287cbd"}
{"timestamp": "2026-02-25T04:24:14.302266+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "dafecc66"}
{"timestamp": "2026-02-25T04:24:14.305266+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 33a961a0-7c48-481b-bbe9-74e350964923 (pytest_user_1771993452)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:24:14.305266+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "dafecc66"}
{"timestamp": "2026-02-25T04:24:16.359666+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3dc178b1"}
{"timestamp": "2026-02-25T04:24:16.369662+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.011s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3dc178b1"}
{"timestamp": "2026-02-25T04:24:18.463568+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/33a961a0-7c48-481b-bbe9-74e350964923", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0a3796d4"}
{"timestamp": "2026-02-25T04:24:18.467567+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 33a961a0-7c48-481b-bbe9-74e350964923", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:24:18.467567+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/33a961a0-7c48-481b-bbe9-74e350964923 status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0a3796d4"}
{"timestamp": "2026-02-25T04:24:20.536819+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "27276f8b"}
{"timestamp": "2026-02-25T04:24:20.537819+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "27276f8b"}
{"timestamp": "2026-02-25T04:24:22.607686+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/nonexistent-id-12345", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b47ec2aa"}
{"timestamp": "2026-02-25T04:24:22.608686+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/nonexistent-id-12345 status=404 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b47ec2aa"}
{"timestamp": "2026-02-25T04:24:24.671784+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1b3998a4"}
{"timestamp": "2026-02-25T04:24:24.672786+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1b3998a4"}
{"timestamp": "2026-02-25T04:24:26.742029+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0342a6e9"}
{"timestamp": "2026-02-25T04:24:26.742029+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0342a6e9"}
{"timestamp": "2026-02-25T04:24:28.795380+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/不存在的XYZ", "module": "logging", "function": "dispatch", "line": 24, "request_id": "855ba009"}
{"timestamp": "2026-02-25T04:24:28.795380+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/不存在的XYZ status=404 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "855ba009"}
{"timestamp": "2026-02-25T04:24:30.857977+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "2243d1e8"}
{"timestamp": "2026-02-25T04:24:30.860977+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: ee14913b-d59b-45b1-96b3-592e36e4b098 (pytest_history_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:24:30.860977+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "2243d1e8"}
{"timestamp": "2026-02-25T04:24:32.903390+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "07f6d0b2"}
{"timestamp": "2026-02-25T04:24:32.904389+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "07f6d0b2"}
{"timestamp": "2026-02-25T04:24:34.946558+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/ee14913b-d59b-45b1-96b3-592e36e4b098/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7713989e"}
{"timestamp": "2026-02-25T04:24:34.947557+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/ee14913b-d59b-45b1-96b3-592e36e4b098/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7713989e"}
{"timestamp": "2026-02-25T04:24:37.006061+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/ee14913b-d59b-45b1-96b3-592e36e4b098", "module": "logging", "function": "dispatch", "line": 24, "request_id": "94a4b519"}
{"timestamp": "2026-02-25T04:24:37.016062+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: ee14913b-d59b-45b1-96b3-592e36e4b098", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:24:37.016062+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/ee14913b-d59b-45b1-96b3-592e36e4b098 status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "94a4b519"}
{"timestamp": "2026-02-25T04:24:39.075418+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9b402637"}
{"timestamp": "2026-02-25T04:24:39.078419+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 961627f7-1663-49fa-bf62-839c27a1ec43 (pytest_history_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:24:39.078419+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9b402637"}
{"timestamp": "2026-02-25T04:24:41.130012+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "47871412"}
{"timestamp": "2026-02-25T04:24:41.131012+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "47871412"}
{"timestamp": "2026-02-25T04:24:43.172218+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/961627f7-1663-49fa-bf62-839c27a1ec43/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5bb48753"}
{"timestamp": "2026-02-25T04:24:43.172218+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/961627f7-1663-49fa-bf62-839c27a1ec43/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5bb48753"}
{"timestamp": "2026-02-25T04:24:45.242984+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/961627f7-1663-49fa-bf62-839c27a1ec43", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4c17dbe7"}
{"timestamp": "2026-02-25T04:24:45.253985+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 961627f7-1663-49fa-bf62-839c27a1ec43", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:24:45.253985+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/961627f7-1663-49fa-bf62-839c27a1ec43 status=200 duration=0.011s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4c17dbe7"}
{"timestamp": "2026-02-25T04:24:47.302464+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1f172f9e"}
{"timestamp": "2026-02-25T04:24:47.309453+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: fd862903-8a72-4327-8187-317a5beb5f68 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:24:47.309453+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.007s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1f172f9e"}
{"timestamp": "2026-02-25T04:24:49.391139+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "beba73d1"}
{"timestamp": "2026-02-25T04:24:49.392140+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "beba73d1"}
{"timestamp": "2026-02-25T04:24:51.452985+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9d78d7d1"}
{"timestamp": "2026-02-25T04:24:51.452985+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9d78d7d1"}
{"timestamp": "2026-02-25T04:24:51.476108+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:24:57.520517+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:25:02.431386+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 476 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T04:25:02.444384+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=fd862903-8a72-4327-8187-317a5beb5f68, blogger=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T04:25:04.528077+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/fd862903-8a72-4327-8187-317a5beb5f68", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a408ac70"}
{"timestamp": "2026-02-25T04:25:04.539078+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: fd862903-8a72-4327-8187-317a5beb5f68", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:25:04.539078+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/fd862903-8a72-4327-8187-317a5beb5f68 status=200 duration=0.011s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a408ac70"}
{"timestamp": "2026-02-25T04:25:06.573260+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a953bee8"}
{"timestamp": "2026-02-25T04:25:06.576259+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 995c4246-2914-4bcb-8468-6ca1d51da007 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:25:06.576259+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a953bee8"}
{"timestamp": "2026-02-25T04:25:08.626678+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "32c5000a"}
{"timestamp": "2026-02-25T04:25:08.627679+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "32c5000a"}
{"timestamp": "2026-02-25T04:25:10.671388+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f2eaec64"}
{"timestamp": "2026-02-25T04:25:10.671388+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f2eaec64"}
{"timestamp": "2026-02-25T04:25:10.697476+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:25:12.708414+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=True, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:25:12.777414+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Connected to ChromaDB: persona=勇哥说财经 - 抖音, collection=b-0_b929855a", "module": "chroma_store", "function": "connect", "line": 76}
{"timestamp": "2026-02-25T04:25:12.799423+00:00", "level": "WARNING", "logger": "managers.persona_manager", "message": "ChromaDB index corrupted for 勇哥说财经 - 抖音: Error executing plan: Error sending backfill request to compactor: Error constructing hnsw segment reader: Error creating hnsw segment reader: Error loading hnsw index. Rebuilding...", "module": "persona_manager", "function": "connect_knowledge_base", "line": 168}
{"timestamp": "2026-02-25T04:25:12.806423+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Rebuilding ChromaDB for 勇哥说财经 - 抖音: 2214 segments from D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-maker\\output\\勇哥说财经 - 抖音\\optimized_texts", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 245}
{"timestamp": "2026-02-25T04:25:12.846423+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Deleted corrupt collection: b-0_b929855a", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 256}
{"timestamp": "2026-02-25T04:25:13.239854+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 64/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:13.355259+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 128/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:13.424817+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 192/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:13.497324+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 256/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:13.576220+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 320/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:13.653310+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 384/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:13.734322+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 448/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:13.810086+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 512/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:13.889634+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 576/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:13.976146+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 640/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.063650+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 704/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.150369+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 768/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.237880+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 832/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.322078+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 896/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.408586+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 960/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.521652+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1024/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.585764+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1088/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.655270+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1152/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.726612+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1216/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.801127+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1280/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.873132+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1344/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:14.950404+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1408/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.025910+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1472/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.114150+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1536/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.199692+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1600/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.285698+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1664/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.373856+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1728/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.466656+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1792/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.558173+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1856/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.652393+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1920/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.744592+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1984/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.859097+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2048/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.925604+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2112/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:15.988607+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2176/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:16.047666+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2214/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T04:25:16.047666+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "ChromaDB rebuilt: persona=勇哥说财经 - 抖音, collection=b-0_b929855a, docs=2214", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 316}
{"timestamp": "2026-02-25T04:25:16.047666+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Knowledge base rebuilt for 勇哥说财经 - 抖音: 2214 documents", "module": "persona_manager", "function": "_rebuild_knowledge_base", "line": 196}
{"timestamp": "2026-02-25T04:25:16.095173+00:00", "level": "INFO", "logger": "services.retrieval_service", "message": "Knowledge search: persona=勇哥说财经 - 抖音, query='帮我分析一下最近的市场趋势', results=3", "module": "retrieval_service", "function": "search_knowledge", "line": 57}
{"timestamp": "2026-02-25T04:25:16.095173+00:00", "level": "INFO", "logger": "core.graph.nodes.knowledge_retrieval", "message": "Knowledge retrieval: found 3 results", "module": "knowledge_retrieval", "function": "knowledge_retrieval", "line": 35}
{"timestamp": "2026-02-25T04:25:23.709649+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 626 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T04:25:23.721650+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=995c4246-2914-4bcb-8468-6ca1d51da007, blogger=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T04:25:25.789407+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/995c4246-2914-4bcb-8468-6ca1d51da007", "module": "logging", "function": "dispatch", "line": 24, "request_id": "836d859c"}
{"timestamp": "2026-02-25T04:25:25.799913+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 995c4246-2914-4bcb-8468-6ca1d51da007", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:25:25.799913+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/995c4246-2914-4bcb-8468-6ca1d51da007 status=200 duration=0.011s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "836d859c"}
{"timestamp": "2026-02-25T04:25:27.849190+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3a4272bc"}
{"timestamp": "2026-02-25T04:25:27.852191+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 3c50d2c5-ad22-411c-9758-718d4fbfd6f5 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:25:27.852191+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3a4272bc"}
{"timestamp": "2026-02-25T04:25:29.918701+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "77e7e561"}
{"timestamp": "2026-02-25T04:25:29.919700+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "77e7e561"}
{"timestamp": "2026-02-25T04:25:31.977214+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c4229365"}
{"timestamp": "2026-02-25T04:25:31.978214+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c4229365"}
{"timestamp": "2026-02-25T04:25:34.036695+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/3c50d2c5-ad22-411c-9758-718d4fbfd6f5", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6f417379"}
{"timestamp": "2026-02-25T04:25:34.044695+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 3c50d2c5-ad22-411c-9758-718d4fbfd6f5", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:25:34.044695+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/3c50d2c5-ad22-411c-9758-718d4fbfd6f5 status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6f417379"}
{"timestamp": "2026-02-25T04:25:36.095004+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b4a448e5"}
{"timestamp": "2026-02-25T04:25:36.098004+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 2f423a8e-04cf-438a-ba73-d6cde055ec29 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:25:36.099004+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b4a448e5"}
{"timestamp": "2026-02-25T04:25:38.154243+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "15f1ef74"}
{"timestamp": "2026-02-25T04:25:38.155237+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "15f1ef74"}
{"timestamp": "2026-02-25T04:25:40.224952+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "fcdfe2c4"}
{"timestamp": "2026-02-25T04:25:40.225954+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "fcdfe2c4"}
{"timestamp": "2026-02-25T04:25:42.269496+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/2f423a8e-04cf-438a-ba73-d6cde055ec29", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ce1a14cc"}
{"timestamp": "2026-02-25T04:25:42.278495+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 2f423a8e-04cf-438a-ba73-d6cde055ec29", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:25:42.278495+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/2f423a8e-04cf-438a-ba73-d6cde055ec29 status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ce1a14cc"}
{"timestamp": "2026-02-25T04:25:44.329651+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "bfea09bd"}
{"timestamp": "2026-02-25T04:25:44.332650+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 92429339-6c75-4fb0-8ad4-44373e304be6 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:25:44.332650+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "bfea09bd"}
{"timestamp": "2026-02-25T04:25:46.394719+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f4342dea"}
{"timestamp": "2026-02-25T04:25:46.395718+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f4342dea"}
{"timestamp": "2026-02-25T04:25:48.437815+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f43b377b"}
{"timestamp": "2026-02-25T04:25:48.437815+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f43b377b"}
{"timestamp": "2026-02-25T04:25:48.461813+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:25:53.027426+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=True, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:25:53.110430+00:00", "level": "INFO", "logger": "services.retrieval_service", "message": "Knowledge search: persona=勇哥说财经 - 抖音, query='pytest_persist_test_1771993546', results=3", "module": "retrieval_service", "function": "search_knowledge", "line": 57}
{"timestamp": "2026-02-25T04:25:53.110430+00:00", "level": "INFO", "logger": "core.graph.nodes.knowledge_retrieval", "message": "Knowledge retrieval: found 3 results", "module": "knowledge_retrieval", "function": "knowledge_retrieval", "line": 35}
{"timestamp": "2026-02-25T04:26:01.881550+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 508 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T04:26:01.893551+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=92429339-6c75-4fb0-8ad4-44373e304be6, blogger=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T04:26:03.952747+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/92429339-6c75-4fb0-8ad4-44373e304be6/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e146ce52"}
{"timestamp": "2026-02-25T04:26:03.955748+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/92429339-6c75-4fb0-8ad4-44373e304be6/勇哥说财经 - 抖音 status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e146ce52"}
{"timestamp": "2026-02-25T04:26:06.016175+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/92429339-6c75-4fb0-8ad4-44373e304be6", "module": "logging", "function": "dispatch", "line": 24, "request_id": "108c8bc7"}
{"timestamp": "2026-02-25T04:26:06.026332+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 92429339-6c75-4fb0-8ad4-44373e304be6", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:26:06.026332+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/92429339-6c75-4fb0-8ad4-44373e304be6 status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "108c8bc7"}
{"timestamp": "2026-02-25T04:26:08.055671+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ce250cb4"}
{"timestamp": "2026-02-25T04:26:08.059672+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 06905811-06e7-4500-8ca4-ffc836ad883f (pytest_e2e)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T04:26:08.059672+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ce250cb4"}
{"timestamp": "2026-02-25T04:26:10.115107+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "effe6013"}
{"timestamp": "2026-02-25T04:26:10.116109+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "effe6013"}
{"timestamp": "2026-02-25T04:26:12.190024+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "03631fbd"}
{"timestamp": "2026-02-25T04:26:12.191020+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "03631fbd"}
{"timestamp": "2026-02-25T04:26:14.231399+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/06905811-06e7-4500-8ca4-ffc836ad883f/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9a4cbb20"}
{"timestamp": "2026-02-25T04:26:14.232399+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/06905811-06e7-4500-8ca4-ffc836ad883f/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9a4cbb20"}
{"timestamp": "2026-02-25T04:26:16.288731+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3c4c5bb5"}
{"timestamp": "2026-02-25T04:26:16.290729+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3c4c5bb5"}
{"timestamp": "2026-02-25T04:26:16.317733+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_e2e, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0", "module": "load_context", "function": "load_context", "line": 44}
{"timestamp": "2026-02-25T04:26:19.806319+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T04:26:24.994279+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=06905811-06e7-4500-8ca4-ffc836ad883f, blogger=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T04:26:27.043673+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/06905811-06e7-4500-8ca4-ffc836ad883f/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9176e6a3"}
{"timestamp": "2026-02-25T04:26:27.044673+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/06905811-06e7-4500-8ca4-ffc836ad883f/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9176e6a3"}
{"timestamp": "2026-02-25T04:26:29.101054+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/06905811-06e7-4500-8ca4-ffc836ad883f", "module": "logging", "function": "dispatch", "line": 24, "request_id": "78b28ace"}
{"timestamp": "2026-02-25T04:26:29.110056+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 06905811-06e7-4500-8ca4-ffc836ad883f", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T04:26:29.110056+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/06905811-06e7-4500-8ca4-ffc836ad883f status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "78b28ace"}
{"timestamp": "2026-02-25T04:36:05.926613+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T04:36:05.928769+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T04:36:05.928769+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T04:36:05.947768+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T04:36:05.949768+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T04:36:10.012547+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T04:36:10.013551+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T04:36:10.016550+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T04:36:10.016550+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T04:36:15.805850+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T04:36:15.806851+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 75}
{"timestamp": "2026-02-25T04:36:15.806851+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T04:36:15.807851+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T04:36:15.807851+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 78}
{"timestamp": "2026-02-25T04:37:09.569862+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T04:37:09.570863+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T04:37:09.570863+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T04:37:09.597227+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T04:37:09.599228+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T04:37:13.706174+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T04:37:13.707175+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T04:37:13.709175+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T04:37:13.709175+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T04:38:14.514324+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c8612c74"}
{"timestamp": "2026-02-25T04:38:14.516324+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c8612c74"}
{"timestamp": "2026-02-25T04:38:14.527424+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9af4263d"}
{"timestamp": "2026-02-25T04:38:14.532530+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9af4263d"}
{"timestamp": "2026-02-25T04:39:11.676630+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "baa5195c"}
{"timestamp": "2026-02-25T04:39:11.676630+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "baa5195c"}
{"timestamp": "2026-02-25T04:39:11.683132+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/bloggers", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4ea54f3e"}
{"timestamp": "2026-02-25T04:39:11.684137+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/bloggers status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4ea54f3e"}
{"timestamp": "2026-02-25T05:38:29.195615+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T05:38:29.196615+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 75}
{"timestamp": "2026-02-25T05:38:29.196615+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T05:38:29.201616+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T05:38:29.201616+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 78}
{"timestamp": "2026-02-25T05:38:35.713426+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:38:35.714427+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:38:35.714427+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:38:35.732430+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:38:35.734429+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:38:39.942020+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:38:39.943023+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:38:39.944022+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:38:39.944022+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T05:38:46.375219+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:38:46.376220+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:38:46.376220+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:38:46.400222+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:38:46.402221+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:38:50.553538+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:38:50.554613+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:38:50.555612+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:38:50.556612+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T05:38:57.058923+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:38:57.060026+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:38:57.060026+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:38:57.076027+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:38:57.079028+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:39:01.228678+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:39:01.229678+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:39:01.231678+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:39:01.231678+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T05:39:07.695509+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:39:07.696510+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:39:07.696510+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:39:07.714512+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:39:07.716515+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:39:11.862000+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:39:11.863046+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:39:11.865003+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:39:11.865003+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T05:39:18.735158+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T05:39:18.735158+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 75}
{"timestamp": "2026-02-25T05:39:18.735158+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T05:39:18.736158+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T05:39:18.736158+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 78}
{"timestamp": "2026-02-25T05:39:25.164889+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:39:25.165888+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:39:25.165888+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:39:25.182490+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:39:25.184489+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:39:29.357437+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:39:29.358438+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:39:29.360438+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:39:29.360438+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T05:39:35.827264+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:39:35.828264+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:39:35.828264+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:39:35.845263+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:39:35.847265+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:39:39.927506+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:39:39.928507+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:39:39.929506+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:39:39.930507+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T05:39:44.402982+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T05:39:44.402982+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 75}
{"timestamp": "2026-02-25T05:39:44.402982+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T05:39:44.403982+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T05:39:44.403982+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 78}
{"timestamp": "2026-02-25T05:39:56.322898+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:39:56.324899+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:39:56.328898+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:39:56.358910+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:39:56.369911+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:40:01.690751+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:40:01.691750+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:40:01.694752+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:40:01.695752+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T05:40:13.815880+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:40:13.816880+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:40:13.818382+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:40:13.842394+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:40:14.053511+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:40:19.159209+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:40:19.160209+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:40:19.163209+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:40:19.164209+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T05:40:31.039874+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:40:31.041876+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:40:31.041876+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:40:31.072384+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:40:31.281456+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:40:36.456207+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:40:36.458207+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:40:36.465211+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:40:36.466211+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T05:40:49.119434+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T05:40:49.121434+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 50}
{"timestamp": "2026-02-25T05:40:49.121434+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T05:40:49.148360+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T05:40:49.378856+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T05:40:54.950437+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T05:40:54.951437+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 105}
{"timestamp": "2026-02-25T05:40:54.954940+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 71}
{"timestamp": "2026-02-25T05:40:54.954940+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T10:56:24.699055+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T10:56:24.700553+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 52}
{"timestamp": "2026-02-25T10:56:24.700553+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T10:56:24.715689+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T10:56:24.717689+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T10:56:29.463343+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T10:56:29.464345+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T10:56:29.466343+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 74}
{"timestamp": "2026-02-25T10:56:29.466343+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T10:56:48.364204+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5b5e8c33"}
{"timestamp": "2026-02-25T10:56:48.367360+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5b5e8c33"}
{"timestamp": "2026-02-25T10:56:48.382340+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4ccaa64d"}
{"timestamp": "2026-02-25T10:56:48.384345+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4ccaa64d"}
{"timestamp": "2026-02-25T10:58:10.530682+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3b6d9126"}
{"timestamp": "2026-02-25T10:58:10.531676+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3b6d9126"}
{"timestamp": "2026-02-25T10:58:10.539172+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "065682e8"}
{"timestamp": "2026-02-25T10:58:10.543161+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "065682e8"}
{"timestamp": "2026-02-25T10:58:16.775530+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "842f6830"}
{"timestamp": "2026-02-25T10:58:16.775530+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "842f6830"}
{"timestamp": "2026-02-25T10:58:16.787759+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "dff56aba"}
{"timestamp": "2026-02-25T10:58:16.788759+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "dff56aba"}
{"timestamp": "2026-02-25T10:58:24.561705+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/auth/anonymous", "module": "logging", "function": "dispatch", "line": 24, "request_id": "86c3e509"}
{"timestamp": "2026-02-25T10:58:24.562705+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/auth/anonymous status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "86c3e509"}
{"timestamp": "2026-02-25T10:58:24.566715+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/anonymous", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d5b8537a"}
{"timestamp": "2026-02-25T10:58:24.592737+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 7d45464d-00e0-48ff-9b5b-f389fa23f854 (访客_7d4546)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T10:58:24.592737+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "Anonymous user created: 7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "auth", "function": "create_anonymous", "line": 46}
{"timestamp": "2026-02-25T10:58:24.593738+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/anonymous status=200 duration=0.027s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d5b8537a"}
{"timestamp": "2026-02-25T10:58:27.986105+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e3abd489"}
{"timestamp": "2026-02-25T10:58:27.988102+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e3abd489"}
{"timestamp": "2026-02-25T10:58:38.565469+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e421cdb0"}
{"timestamp": "2026-02-25T10:58:38.566473+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e421cdb0"}
{"timestamp": "2026-02-25T10:58:38.567987+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8c1066f4"}
{"timestamp": "2026-02-25T10:58:38.569987+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8c1066f4"}
{"timestamp": "2026-02-25T10:58:38.621764+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T10:58:38.639392+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T10:58:45.858352+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T10:58:55.877147+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 26 -> 60 chars, target_dim=interests, turn=0", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T10:58:55.894166+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T10:59:18.697662+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d0580553"}
{"timestamp": "2026-02-25T10:59:18.699661+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d0580553"}
{"timestamp": "2026-02-25T10:59:18.735691+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=2, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T10:59:24.532935+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T10:59:28.929520+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 364 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T10:59:40.524459+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 364 -> 153 chars, target_dim=interests, turn=2", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T10:59:40.552482+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=4", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T10:59:48.988547+00:00", "level": "INFO", "logger": "core.graph.nodes.extract_preferences", "message": "Preferences extracted for user=7d45464d-00e0-48ff-9b5b-f389fa23f854: interests=0, progress={'communication_style': True, 'recent_topics': True}", "module": "extract_preferences", "function": "extract_preferences", "line": 88}
{"timestamp": "2026-02-25T11:00:16.757140+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "534fa45d"}
{"timestamp": "2026-02-25T11:00:16.758148+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "534fa45d"}
{"timestamp": "2026-02-25T11:00:16.794243+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=4, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:00:19.425806+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:00:26.317274+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 220 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T11:00:41.961492+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 220 -> 285 chars, target_dim=interests, turn=4", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T11:00:41.988037+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=6", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:00:49.093792+00:00", "level": "INFO", "logger": "core.graph.nodes.extract_preferences", "message": "Preferences extracted for user=7d45464d-00e0-48ff-9b5b-f389fa23f854: interests=0, progress={'communication_style': True, 'recent_topics': True, 'personality_type': True}", "module": "extract_preferences", "function": "extract_preferences", "line": 88}
{"timestamp": "2026-02-25T11:04:26.132975+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/小艾财经说 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ae32e3b2"}
{"timestamp": "2026-02-25T11:04:26.135972+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/小艾财经说 - 抖音 status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ae32e3b2"}
{"timestamp": "2026-02-25T11:04:35.055353+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "829e0c11"}
{"timestamp": "2026-02-25T11:04:35.056354+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "829e0c11"}
{"timestamp": "2026-02-25T11:04:35.073527+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 小艾财经说 - 抖音 (videos=8, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T11:04:35.092568+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=小艾财经说 - 抖音, today_msgs=0, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:04:38.434194+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:04:52.444603+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 55 -> 94 chars, target_dim=interests, turn=0", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T11:04:52.491410+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=小艾财经说 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:05:13.659578+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1b9134bc"}
{"timestamp": "2026-02-25T11:05:13.661580+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1b9134bc"}
{"timestamp": "2026-02-25T11:05:13.705883+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=小艾财经说 - 抖音, today_msgs=2, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:05:17.240561+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:05:22.793129+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 315 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T11:05:46.643459+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 315 -> 327 chars, target_dim=interests, turn=2", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T11:05:46.676343+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=小艾财经说 - 抖音, total_messages=4", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:06:02.027105+00:00", "level": "INFO", "logger": "core.graph.nodes.extract_preferences", "message": "Preferences extracted for user=7d45464d-00e0-48ff-9b5b-f389fa23f854: interests=0, progress={'communication_style': True, 'recent_topics': True, 'personality_type': True, 'visit_motivation': True}", "module": "extract_preferences", "function": "extract_preferences", "line": 88}
{"timestamp": "2026-02-25T11:09:26.514190+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7390e941"}
{"timestamp": "2026-02-25T11:09:26.515199+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7390e941"}
{"timestamp": "2026-02-25T11:09:26.519265+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9ee647f3"}
{"timestamp": "2026-02-25T11:09:26.523825+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9ee647f3"}
{"timestamp": "2026-02-25T11:09:26.559345+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=小艾财经说 - 抖音, today_msgs=4, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:09:29.539823+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:09:38.484874+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 560 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T11:09:49.761944+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 560 -> 629 chars, target_dim=interests, turn=4", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T11:09:49.798218+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=小艾财经说 - 抖音, total_messages=6", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:09:59.485703+00:00", "level": "INFO", "logger": "core.graph.nodes.extract_preferences", "message": "Preferences extracted for user=7d45464d-00e0-48ff-9b5b-f389fa23f854: interests=2, progress={'communication_style': True, 'recent_topics': True, 'personality_type': True, 'visit_motivation': True, 'interests': True}", "module": "extract_preferences", "function": "extract_preferences", "line": 88}
{"timestamp": "2026-02-25T11:12:26.658149+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5b11782c"}
{"timestamp": "2026-02-25T11:12:26.663144+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音 status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5b11782c"}
{"timestamp": "2026-02-25T11:12:32.675138+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/小艾财经说 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ddd31102"}
{"timestamp": "2026-02-25T11:12:32.678138+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/小艾财经说 - 抖音 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ddd31102"}
{"timestamp": "2026-02-25T11:17:04.858909+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "2b9dfe9b"}
{"timestamp": "2026-02-25T11:17:04.860908+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "2b9dfe9b"}
{"timestamp": "2026-02-25T11:17:04.867906+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "09f30534"}
{"timestamp": "2026-02-25T11:17:04.882908+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.016s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "09f30534"}
{"timestamp": "2026-02-25T11:17:04.883908+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "798d6015"}
{"timestamp": "2026-02-25T11:17:04.884908+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "798d6015"}
{"timestamp": "2026-02-25T11:17:05.590678+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "74815473"}
{"timestamp": "2026-02-25T11:17:05.591679+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "74815473"}
{"timestamp": "2026-02-25T11:17:05.595731+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1a706910"}
{"timestamp": "2026-02-25T11:17:05.596731+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "25519512"}
{"timestamp": "2026-02-25T11:17:05.596731+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1a706910"}
{"timestamp": "2026-02-25T11:17:05.597731+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "25519512"}
{"timestamp": "2026-02-25T11:17:14.800525+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "61dc7ffc"}
{"timestamp": "2026-02-25T11:17:14.800525+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "61dc7ffc"}
{"timestamp": "2026-02-25T11:17:14.803526+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "557d99a0"}
{"timestamp": "2026-02-25T11:17:14.803526+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "557d99a0"}
{"timestamp": "2026-02-25T11:17:14.806033+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a954423d"}
{"timestamp": "2026-02-25T11:17:14.807034+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a954423d"}
{"timestamp": "2026-02-25T11:17:24.303327+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T11:17:24.303327+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 78}
{"timestamp": "2026-02-25T11:17:24.304331+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T11:17:24.305330+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T11:17:24.305851+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 81}
{"timestamp": "2026-02-25T11:17:32.771721+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T11:17:32.772732+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 52}
{"timestamp": "2026-02-25T11:17:32.773721+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T11:17:32.788099+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T11:17:32.790099+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T11:17:36.917318+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T11:17:36.918319+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T11:17:36.920319+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 74}
{"timestamp": "2026-02-25T11:17:36.921320+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T11:17:43.445138+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T11:17:43.447138+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 52}
{"timestamp": "2026-02-25T11:17:43.447138+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T11:17:43.460637+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T11:17:43.462637+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T11:17:47.704232+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T11:17:47.705232+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T11:17:47.707232+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 74}
{"timestamp": "2026-02-25T11:17:47.707232+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T11:17:47.710426+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "681156d1"}
{"timestamp": "2026-02-25T11:17:47.711426+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "681156d1"}
{"timestamp": "2026-02-25T11:17:47.713426+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "145a3a0d"}
{"timestamp": "2026-02-25T11:17:47.715476+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "594774da"}
{"timestamp": "2026-02-25T11:17:47.716476+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "145a3a0d"}
{"timestamp": "2026-02-25T11:17:47.718477+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "594774da"}
{"timestamp": "2026-02-25T11:17:55.263463+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ba23c3e3"}
{"timestamp": "2026-02-25T11:17:55.265461+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ba23c3e3"}
{"timestamp": "2026-02-25T11:17:55.272988+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8411aa66"}
{"timestamp": "2026-02-25T11:17:55.275987+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8411aa66"}
{"timestamp": "2026-02-25T11:17:55.278986+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ba76890d"}
{"timestamp": "2026-02-25T11:17:55.280983+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ba76890d"}
{"timestamp": "2026-02-25T11:17:59.890511+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e758cc4b"}
{"timestamp": "2026-02-25T11:17:59.891513+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e758cc4b"}
{"timestamp": "2026-02-25T11:17:59.894017+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "aba58644"}
{"timestamp": "2026-02-25T11:17:59.895021+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b571c498"}
{"timestamp": "2026-02-25T11:17:59.895021+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "aba58644"}
{"timestamp": "2026-02-25T11:17:59.897021+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b571c498"}
{"timestamp": "2026-02-25T11:18:08.246277+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5dd2b78d"}
{"timestamp": "2026-02-25T11:18:08.247277+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5dd2b78d"}
{"timestamp": "2026-02-25T11:18:08.250733+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c9e76aa8"}
{"timestamp": "2026-02-25T11:18:08.250733+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c9e76aa8"}
{"timestamp": "2026-02-25T11:18:08.251732+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7c117a6e"}
{"timestamp": "2026-02-25T11:18:08.252734+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7c117a6e"}
{"timestamp": "2026-02-25T11:18:13.944056+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f00004ad"}
{"timestamp": "2026-02-25T11:18:13.944056+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f00004ad"}
{"timestamp": "2026-02-25T11:18:13.956322+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f95aad1a"}
{"timestamp": "2026-02-25T11:18:13.956322+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f95aad1a"}
{"timestamp": "2026-02-25T11:18:13.957826+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7930837b"}
{"timestamp": "2026-02-25T11:18:13.958830+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7930837b"}
{"timestamp": "2026-02-25T11:18:24.206015+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d6e35406"}
{"timestamp": "2026-02-25T11:18:24.206525+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d6e35406"}
{"timestamp": "2026-02-25T11:18:24.209178+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ae51bf94"}
{"timestamp": "2026-02-25T11:18:24.210306+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ae51bf94"}
{"timestamp": "2026-02-25T11:18:24.210823+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "89d01ca3"}
{"timestamp": "2026-02-25T11:18:24.212340+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "89d01ca3"}
{"timestamp": "2026-02-25T11:18:30.882478+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "98fd8393"}
{"timestamp": "2026-02-25T11:18:30.883478+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "98fd8393"}
{"timestamp": "2026-02-25T11:18:30.893802+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ae2fa6d2"}
{"timestamp": "2026-02-25T11:18:30.894806+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ae2fa6d2"}
{"timestamp": "2026-02-25T11:18:30.895805+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9dd54294"}
{"timestamp": "2026-02-25T11:18:30.897806+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9dd54294"}
{"timestamp": "2026-02-25T11:19:00.268257+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T11:19:00.268257+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 78}
{"timestamp": "2026-02-25T11:19:00.269252+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T11:19:00.269252+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T11:19:00.269252+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 81}
{"timestamp": "2026-02-25T11:19:06.685044+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T11:19:06.686042+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 52}
{"timestamp": "2026-02-25T11:19:06.686042+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T11:19:06.702062+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T11:19:06.704161+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T11:19:10.896944+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T11:19:10.897945+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T11:19:10.899945+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 74}
{"timestamp": "2026-02-25T11:19:10.899945+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T11:19:10.903945+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "858cfb5b"}
{"timestamp": "2026-02-25T11:19:10.904949+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "858cfb5b"}
{"timestamp": "2026-02-25T11:19:12.983808+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3b42a272"}
{"timestamp": "2026-02-25T11:19:12.985807+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3b42a272"}
{"timestamp": "2026-02-25T11:19:15.049663+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6f7e6443"}
{"timestamp": "2026-02-25T11:19:15.051656+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6f7e6443"}
{"timestamp": "2026-02-25T11:19:17.144555+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0a949ab8"}
{"timestamp": "2026-02-25T11:19:17.161210+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 4394aa83-d743-4c44-bbb6-134e0e938856 (pytest_user_1772018355)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:19:17.161210+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.018s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0a949ab8"}
{"timestamp": "2026-02-25T11:19:19.209236+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0d016aa1"}
{"timestamp": "2026-02-25T11:19:19.234217+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.025s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0d016aa1"}
{"timestamp": "2026-02-25T11:19:21.302715+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/4394aa83-d743-4c44-bbb6-134e0e938856", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0c4eeeea"}
{"timestamp": "2026-02-25T11:19:21.312239+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 4394aa83-d743-4c44-bbb6-134e0e938856", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:19:21.313237+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/4394aa83-d743-4c44-bbb6-134e0e938856 status=200 duration=0.011s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0c4eeeea"}
{"timestamp": "2026-02-25T11:19:23.389899+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4d8d1ebc"}
{"timestamp": "2026-02-25T11:19:23.394900+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4d8d1ebc"}
{"timestamp": "2026-02-25T11:19:25.455896+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/nonexistent-id-12345", "module": "logging", "function": "dispatch", "line": 24, "request_id": "92b51906"}
{"timestamp": "2026-02-25T11:19:25.455896+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/nonexistent-id-12345 status=404 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "92b51906"}
{"timestamp": "2026-02-25T11:19:27.493692+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "803f9323"}
{"timestamp": "2026-02-25T11:19:27.497707+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "803f9323"}
{"timestamp": "2026-02-25T11:19:29.545173+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5adb608a"}
{"timestamp": "2026-02-25T11:19:29.547171+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T11:19:29.547171+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls/勇哥说财经 - 抖音 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5adb608a"}
{"timestamp": "2026-02-25T11:19:31.629377+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls/不存在的XYZ", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9268fee4"}
{"timestamp": "2026-02-25T11:19:31.631383+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls/不存在的XYZ status=404 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9268fee4"}
{"timestamp": "2026-02-25T11:19:33.703837+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f867fbd8"}
{"timestamp": "2026-02-25T11:19:33.712766+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 11b3b49b-c7cd-4c96-8874-f2a84dff4862 (pytest_history_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:19:33.712766+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f867fbd8"}
{"timestamp": "2026-02-25T11:19:35.786379+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d12cf2f1"}
{"timestamp": "2026-02-25T11:19:35.789892+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d12cf2f1"}
{"timestamp": "2026-02-25T11:19:37.879852+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/11b3b49b-c7cd-4c96-8874-f2a84dff4862/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1941c5b6"}
{"timestamp": "2026-02-25T11:19:37.884848+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/11b3b49b-c7cd-4c96-8874-f2a84dff4862/勇哥说财经 - 抖音 status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1941c5b6"}
{"timestamp": "2026-02-25T11:19:39.938307+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/11b3b49b-c7cd-4c96-8874-f2a84dff4862", "module": "logging", "function": "dispatch", "line": 24, "request_id": "dfcdaec0"}
{"timestamp": "2026-02-25T11:19:39.964011+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 11b3b49b-c7cd-4c96-8874-f2a84dff4862", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:19:39.964011+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/11b3b49b-c7cd-4c96-8874-f2a84dff4862 status=200 duration=0.026s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "dfcdaec0"}
{"timestamp": "2026-02-25T11:19:42.033334+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e752db10"}
{"timestamp": "2026-02-25T11:19:42.037335+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: c9d97b5e-7747-4c37-896d-d2cecd6b586d (pytest_history_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:19:42.037335+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e752db10"}
{"timestamp": "2026-02-25T11:19:44.084989+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ae5bbf67"}
{"timestamp": "2026-02-25T11:19:44.085988+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ae5bbf67"}
{"timestamp": "2026-02-25T11:19:46.132815+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/c9d97b5e-7747-4c37-896d-d2cecd6b586d/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7d0856dd"}
{"timestamp": "2026-02-25T11:19:46.132815+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/c9d97b5e-7747-4c37-896d-d2cecd6b586d/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7d0856dd"}
{"timestamp": "2026-02-25T11:19:48.182096+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/c9d97b5e-7747-4c37-896d-d2cecd6b586d", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1e58bbbf"}
{"timestamp": "2026-02-25T11:19:48.196644+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: c9d97b5e-7747-4c37-896d-d2cecd6b586d", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:19:48.196644+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/c9d97b5e-7747-4c37-896d-d2cecd6b586d status=200 duration=0.016s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1e58bbbf"}
{"timestamp": "2026-02-25T11:19:50.264924+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "643bf16b"}
{"timestamp": "2026-02-25T11:19:50.270934+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: d00b8672-3c1d-41fb-a00a-752bd7dab229 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:19:50.271931+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "643bf16b"}
{"timestamp": "2026-02-25T11:19:52.307168+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5a20b582"}
{"timestamp": "2026-02-25T11:19:52.310689+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5a20b582"}
{"timestamp": "2026-02-25T11:19:54.355168+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "77db6975"}
{"timestamp": "2026-02-25T11:19:54.360176+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "77db6975"}
{"timestamp": "2026-02-25T11:19:54.400334+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0, anonymous=False", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:20:15.418840+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=True, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:20:15.578115+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Connected to ChromaDB: persona=勇哥说财经 - 抖音, collection=b-0_b929855a", "module": "chroma_store", "function": "connect", "line": 76}
{"timestamp": "2026-02-25T11:20:15.595210+00:00", "level": "WARNING", "logger": "managers.persona_manager", "message": "ChromaDB index corrupted for 勇哥说财经 - 抖音: Error executing plan: Error sending backfill request to compactor: Error constructing hnsw segment reader: Error creating hnsw segment reader: Error loading hnsw index. Rebuilding...", "module": "persona_manager", "function": "connect_knowledge_base", "line": 168}
{"timestamp": "2026-02-25T11:20:15.605728+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Rebuilding ChromaDB for 勇哥说财经 - 抖音: 2214 segments from D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-maker\\output\\勇哥说财经 - 抖音\\optimized_texts", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 245}
{"timestamp": "2026-02-25T11:20:15.703898+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Deleted corrupt collection: b-0_b929855a", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 256}
{"timestamp": "2026-02-25T11:20:16.264903+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 64/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:16.383209+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 128/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:16.465281+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 192/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:16.537779+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 256/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:16.616204+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 320/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:16.692330+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 384/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:16.771964+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 448/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:16.851556+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 512/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:16.929314+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 576/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.019196+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 640/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.106650+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 704/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.194388+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 768/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.281762+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 832/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.366445+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 896/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.453912+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 960/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.561417+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1024/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.630566+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1088/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.698718+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1152/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.769313+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1216/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.841749+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1280/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.917314+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1344/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:17.992454+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1408/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.067258+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1472/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.153093+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1536/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.240653+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1600/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.331163+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1664/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.419865+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1728/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.515186+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1792/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.611259+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1856/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.712911+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1920/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.809462+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1984/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:18.929846+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2048/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:19.002726+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2112/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:19.072237+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2176/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:19.136161+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2214/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T11:20:19.136161+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "ChromaDB rebuilt: persona=勇哥说财经 - 抖音, collection=b-0_b929855a, docs=2214", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 316}
{"timestamp": "2026-02-25T11:20:19.137167+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Knowledge base rebuilt for 勇哥说财经 - 抖音: 2214 documents", "module": "persona_manager", "function": "_rebuild_knowledge_base", "line": 196}
{"timestamp": "2026-02-25T11:20:19.189042+00:00", "level": "INFO", "logger": "services.retrieval_service", "message": "Knowledge search: persona=勇哥说财经 - 抖音, query='你好，简单介绍一下你自己', results=3", "module": "retrieval_service", "function": "search_knowledge", "line": 57}
{"timestamp": "2026-02-25T11:20:19.189042+00:00", "level": "INFO", "logger": "core.graph.nodes.knowledge_retrieval", "message": "Knowledge retrieval: found 3 results", "module": "knowledge_retrieval", "function": "knowledge_retrieval", "line": 35}
{"timestamp": "2026-02-25T11:20:25.434123+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 549 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T11:20:25.440123+00:00", "level": "ERROR", "logger": "core.engine", "message": "Chat stream error: argument of type 'NoneType' is not iterable", "module": "engine", "function": "chat_stream", "line": 246, "exception": "Traceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 214, in chat_stream\n    if \"response\" in node_data and node_data[\"response\"]:\n       ^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: argument of type 'NoneType' is not iterable"}
{"timestamp": "2026-02-25T11:20:27.563426+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/d00b8672-3c1d-41fb-a00a-752bd7dab229", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d5612660"}
{"timestamp": "2026-02-25T11:20:27.586469+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: d00b8672-3c1d-41fb-a00a-752bd7dab229", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:20:27.587651+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/d00b8672-3c1d-41fb-a00a-752bd7dab229 status=200 duration=0.024s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d5612660"}
{"timestamp": "2026-02-25T11:20:29.669017+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "867aca63"}
{"timestamp": "2026-02-25T11:20:29.675023+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: bd03eff3-a83b-4c96-8f24-f57b1b15434b (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:20:29.675023+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "867aca63"}
{"timestamp": "2026-02-25T11:20:31.722649+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7489c1df"}
{"timestamp": "2026-02-25T11:20:31.725674+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7489c1df"}
{"timestamp": "2026-02-25T11:20:33.800814+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5185c33e"}
{"timestamp": "2026-02-25T11:20:33.803812+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5185c33e"}
{"timestamp": "2026-02-25T11:20:33.867488+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0, anonymous=False", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:20:36.731759+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=True, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:20:36.833486+00:00", "level": "INFO", "logger": "services.retrieval_service", "message": "Knowledge search: persona=勇哥说财经 - 抖音, query='帮我分析一下最近的市场趋势', results=3", "module": "retrieval_service", "function": "search_knowledge", "line": 57}
{"timestamp": "2026-02-25T11:20:36.833486+00:00", "level": "INFO", "logger": "core.graph.nodes.knowledge_retrieval", "message": "Knowledge retrieval: found 3 results", "module": "knowledge_retrieval", "function": "knowledge_retrieval", "line": 35}
{"timestamp": "2026-02-25T11:20:43.940878+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 591 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T11:20:43.943877+00:00", "level": "ERROR", "logger": "core.engine", "message": "Chat stream error: argument of type 'NoneType' is not iterable", "module": "engine", "function": "chat_stream", "line": 246, "exception": "Traceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 214, in chat_stream\n    if \"response\" in node_data and node_data[\"response\"]:\n       ^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: argument of type 'NoneType' is not iterable"}
{"timestamp": "2026-02-25T11:20:46.020814+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/bd03eff3-a83b-4c96-8f24-f57b1b15434b", "module": "logging", "function": "dispatch", "line": 24, "request_id": "162fd8dc"}
{"timestamp": "2026-02-25T11:20:46.047785+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: bd03eff3-a83b-4c96-8f24-f57b1b15434b", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:20:46.047785+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/bd03eff3-a83b-4c96-8f24-f57b1b15434b status=200 duration=0.027s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "162fd8dc"}
{"timestamp": "2026-02-25T11:20:48.118967+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7bfbef92"}
{"timestamp": "2026-02-25T11:20:48.132064+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: af3b7776-af5e-4a4b-b9d1-3da386d7fef8 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:20:48.133578+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.016s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7bfbef92"}
{"timestamp": "2026-02-25T11:20:50.187801+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7de1cfc0"}
{"timestamp": "2026-02-25T11:20:50.191796+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7de1cfc0"}
{"timestamp": "2026-02-25T11:20:52.261793+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0db71e1d"}
{"timestamp": "2026-02-25T11:20:52.264789+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0db71e1d"}
{"timestamp": "2026-02-25T11:20:54.308243+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/af3b7776-af5e-4a4b-b9d1-3da386d7fef8", "module": "logging", "function": "dispatch", "line": 24, "request_id": "663cd069"}
{"timestamp": "2026-02-25T11:20:54.330272+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: af3b7776-af5e-4a4b-b9d1-3da386d7fef8", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:20:54.330911+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/af3b7776-af5e-4a4b-b9d1-3da386d7fef8 status=200 duration=0.023s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "663cd069"}
{"timestamp": "2026-02-25T11:20:56.395907+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4ec52cfe"}
{"timestamp": "2026-02-25T11:20:56.408421+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 52823f43-aa99-45c0-820c-f1bd8ade40e9 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:20:56.409422+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.014s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4ec52cfe"}
{"timestamp": "2026-02-25T11:20:58.478189+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "32bebae3"}
{"timestamp": "2026-02-25T11:20:58.482187+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "32bebae3"}
{"timestamp": "2026-02-25T11:21:00.548797+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b3e959b5"}
{"timestamp": "2026-02-25T11:21:00.554326+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b3e959b5"}
{"timestamp": "2026-02-25T11:21:00.619213+00:00", "level": "ERROR", "logger": "core.engine", "message": "Chat stream error: Persona 未找到: 完全不存在的ABC", "module": "engine", "function": "chat_stream", "line": 246, "exception": "Traceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 204, in chat_stream\n    async for node_output in self._compiled_graph.astream(initial_state):\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\main.py\", line 2974, in astream\n    async for _ in runner.atick(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_runner.py\", line 304, in atick\n    await arun_with_retry(\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\pregel\\_retry.py\", line 138, in arun_with_retry\n    return await task.proc.ainvoke(task.input, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 705, in ainvoke\n    input = await asyncio.create_task(\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\ProgramData\\anaconda3\\envs\\video-analysis\\Lib\\site-packages\\langgraph\\_internal\\_runnable.py\", line 473, in ainvoke\n    ret = await self.afunc(*args, **kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\workflow.py\", line 40, in wrapped\n    return await fn(state, **deps)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\graph\\nodes\\load_context.py\", line 24, in load_context\n    persona = persona_manager.load_persona(soul_name)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\managers\\persona_manager.py\", line 52, in load_persona\n    raise PersonaNotFoundError(\ncommon.exceptions.PersonaNotFoundError: Persona 未找到: 完全不存在的ABC\nDuring task with name 'load_context' and id 'c716d488-e5c5-b247-32ed-001f84c18e41'"}
{"timestamp": "2026-02-25T11:21:02.673691+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/52823f43-aa99-45c0-820c-f1bd8ade40e9", "module": "logging", "function": "dispatch", "line": 24, "request_id": "514a2e03"}
{"timestamp": "2026-02-25T11:21:02.690874+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 52823f43-aa99-45c0-820c-f1bd8ade40e9", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:21:02.690874+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/52823f43-aa99-45c0-820c-f1bd8ade40e9 status=200 duration=0.018s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "514a2e03"}
{"timestamp": "2026-02-25T11:21:04.741641+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5eebaca4"}
{"timestamp": "2026-02-25T11:21:04.757799+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: daa395ac-37e4-4448-b2c7-dffeb4fe14c0 (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:21:04.764380+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.024s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5eebaca4"}
{"timestamp": "2026-02-25T11:21:06.822319+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a80f3ae5"}
{"timestamp": "2026-02-25T11:21:06.826337+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a80f3ae5"}
{"timestamp": "2026-02-25T11:21:08.883996+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ef0287ef"}
{"timestamp": "2026-02-25T11:21:08.887012+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ef0287ef"}
{"timestamp": "2026-02-25T11:21:08.930183+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0, anonymous=False", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:21:12.404847+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=True, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:21:12.500171+00:00", "level": "INFO", "logger": "services.retrieval_service", "message": "Knowledge search: persona=勇哥说财经 - 抖音, query='pytest_persist_test_1772018466', results=3", "module": "retrieval_service", "function": "search_knowledge", "line": 57}
{"timestamp": "2026-02-25T11:21:12.500171+00:00", "level": "INFO", "logger": "core.graph.nodes.knowledge_retrieval", "message": "Knowledge retrieval: found 3 results", "module": "knowledge_retrieval", "function": "knowledge_retrieval", "line": 35}
{"timestamp": "2026-02-25T11:21:20.330297+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 605 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T11:21:20.331299+00:00", "level": "ERROR", "logger": "core.engine", "message": "Chat stream error: argument of type 'NoneType' is not iterable", "module": "engine", "function": "chat_stream", "line": 246, "exception": "Traceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 214, in chat_stream\n    if \"response\" in node_data and node_data[\"response\"]:\n       ^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: argument of type 'NoneType' is not iterable"}
{"timestamp": "2026-02-25T11:21:22.440492+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/daa395ac-37e4-4448-b2c7-dffeb4fe14c0", "module": "logging", "function": "dispatch", "line": 24, "request_id": "17909585"}
{"timestamp": "2026-02-25T11:21:22.459017+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: daa395ac-37e4-4448-b2c7-dffeb4fe14c0", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:21:22.459017+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/daa395ac-37e4-4448-b2c7-dffeb4fe14c0 status=200 duration=0.020s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "17909585"}
{"timestamp": "2026-02-25T11:21:24.493962+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4adccb35"}
{"timestamp": "2026-02-25T11:21:24.501478+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: a3fd4c72-4e43-4c3c-bc94-51eac095cdce (pytest_e2e)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:21:24.502479+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4adccb35"}
{"timestamp": "2026-02-25T11:21:26.566702+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "eff793d4"}
{"timestamp": "2026-02-25T11:21:26.570700+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "eff793d4"}
{"timestamp": "2026-02-25T11:21:28.654238+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9629e920"}
{"timestamp": "2026-02-25T11:21:28.655238+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls/勇哥说财经 - 抖音 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9629e920"}
{"timestamp": "2026-02-25T11:21:30.708771+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/a3fd4c72-4e43-4c3c-bc94-51eac095cdce/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d91ece65"}
{"timestamp": "2026-02-25T11:21:30.710772+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/a3fd4c72-4e43-4c3c-bc94-51eac095cdce/勇哥说财经 - 抖音 status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d91ece65"}
{"timestamp": "2026-02-25T11:21:32.757100+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "58f17213"}
{"timestamp": "2026-02-25T11:21:32.760102+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "58f17213"}
{"timestamp": "2026-02-25T11:21:32.815330+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_e2e, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0, anonymous=False", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:21:38.052940+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:21:41.725189+00:00", "level": "ERROR", "logger": "core.engine", "message": "Chat stream error: argument of type 'NoneType' is not iterable", "module": "engine", "function": "chat_stream", "line": 246, "exception": "Traceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 214, in chat_stream\n    if \"response\" in node_data and node_data[\"response\"]:\n       ^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: argument of type 'NoneType' is not iterable"}
{"timestamp": "2026-02-25T11:21:43.789932+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/a3fd4c72-4e43-4c3c-bc94-51eac095cdce", "module": "logging", "function": "dispatch", "line": 24, "request_id": "50e10c87"}
{"timestamp": "2026-02-25T11:21:43.814574+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: a3fd4c72-4e43-4c3c-bc94-51eac095cdce", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:21:43.814574+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/a3fd4c72-4e43-4c3c-bc94-51eac095cdce status=200 duration=0.026s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "50e10c87"}
{"timestamp": "2026-02-25T11:21:45.894503+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/anonymous", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7bda67ed"}
{"timestamp": "2026-02-25T11:21:45.905039+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: d55dbda4-1b86-46fb-99da-be540cf50913 (访客_d55dbd)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:21:45.905039+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "Anonymous user created: d55dbda4-1b86-46fb-99da-be540cf50913", "module": "auth", "function": "create_anonymous", "line": 46}
{"timestamp": "2026-02-25T11:21:45.906546+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/anonymous status=200 duration=0.012s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7bda67ed"}
{"timestamp": "2026-02-25T11:21:47.976932+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/d55dbda4-1b86-46fb-99da-be540cf50913", "module": "logging", "function": "dispatch", "line": 24, "request_id": "83345c1d"}
{"timestamp": "2026-02-25T11:21:47.999084+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: d55dbda4-1b86-46fb-99da-be540cf50913", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:21:48.000085+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/d55dbda4-1b86-46fb-99da-be540cf50913 status=200 duration=0.024s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "83345c1d"}
{"timestamp": "2026-02-25T11:21:50.056013+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/secrets/catalog", "module": "logging", "function": "dispatch", "line": 24, "request_id": "47fff443"}
{"timestamp": "2026-02-25T11:21:50.058536+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/secrets/catalog status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "47fff443"}
{"timestamp": "2026-02-25T11:21:52.108779+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/secrets/catalog", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f1dee234"}
{"timestamp": "2026-02-25T11:21:52.110776+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/secrets/catalog status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f1dee234"}
{"timestamp": "2026-02-25T11:21:54.169320+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/anonymous", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3b54a7ce"}
{"timestamp": "2026-02-25T11:21:54.174320+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 774538fb-e633-420b-b1d1-e428c2de3948 (访客_774538)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:21:54.174320+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "Anonymous user created: 774538fb-e633-420b-b1d1-e428c2de3948", "module": "auth", "function": "create_anonymous", "line": 46}
{"timestamp": "2026-02-25T11:21:54.175319+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/anonymous status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3b54a7ce"}
{"timestamp": "2026-02-25T11:21:56.223858+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/774538fb-e633-420b-b1d1-e428c2de3948", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7ec714a3"}
{"timestamp": "2026-02-25T11:21:56.244113+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/774538fb-e633-420b-b1d1-e428c2de3948 status=200 duration=0.020s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7ec714a3"}
{"timestamp": "2026-02-25T11:21:58.307843+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/774538fb-e633-420b-b1d1-e428c2de3948", "module": "logging", "function": "dispatch", "line": 24, "request_id": "56de7a8b"}
{"timestamp": "2026-02-25T11:21:58.334659+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 774538fb-e633-420b-b1d1-e428c2de3948", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:21:58.334659+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/774538fb-e633-420b-b1d1-e428c2de3948 status=200 duration=0.027s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "56de7a8b"}
{"timestamp": "2026-02-25T11:22:00.391172+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/register", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e6522a49"}
{"timestamp": "2026-02-25T11:22:00.405456+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 4f144e05-8a55-471e-b530-ef41ad18dd35 (pytest_register_1772018518)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:22:00.406453+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "User registered: 4f144e05-8a55-471e-b530-ef41ad18dd35 (pytest_register_1772018518)", "module": "auth", "function": "register", "line": 60}
{"timestamp": "2026-02-25T11:22:00.406453+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/register status=200 duration=0.016s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e6522a49"}
{"timestamp": "2026-02-25T11:22:02.458333+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/4f144e05-8a55-471e-b530-ef41ad18dd35", "module": "logging", "function": "dispatch", "line": 24, "request_id": "21e0eb3e"}
{"timestamp": "2026-02-25T11:22:02.481988+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 4f144e05-8a55-471e-b530-ef41ad18dd35", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:22:02.481988+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/4f144e05-8a55-471e-b530-ef41ad18dd35 status=200 duration=0.025s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "21e0eb3e"}
{"timestamp": "2026-02-25T11:22:04.559519+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/register", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7ef178ec"}
{"timestamp": "2026-02-25T11:22:04.576556+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 2277c1e6-664c-4d16-a351-325148cb72e6 (pytest_verify_1772018522)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:22:04.577565+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "User registered: 2277c1e6-664c-4d16-a351-325148cb72e6 (pytest_verify_1772018522)", "module": "auth", "function": "register", "line": 60}
{"timestamp": "2026-02-25T11:22:04.577565+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/register status=200 duration=0.018s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7ef178ec"}
{"timestamp": "2026-02-25T11:22:06.636239+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/verify/passphrase", "module": "logging", "function": "dispatch", "line": 24, "request_id": "76ea7e83"}
{"timestamp": "2026-02-25T11:22:06.669244+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/verify/passphrase status=200 duration=0.033s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "76ea7e83"}
{"timestamp": "2026-02-25T11:22:08.730266+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/verify/passphrase", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c5cd52da"}
{"timestamp": "2026-02-25T11:22:08.734266+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/verify/passphrase status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c5cd52da"}
{"timestamp": "2026-02-25T11:22:10.793421+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/2277c1e6-664c-4d16-a351-325148cb72e6", "module": "logging", "function": "dispatch", "line": 24, "request_id": "26a08b70"}
{"timestamp": "2026-02-25T11:22:10.801424+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 2277c1e6-664c-4d16-a351-325148cb72e6", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:22:10.801424+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/2277c1e6-664c-4d16-a351-325148cb72e6 status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "26a08b70"}
{"timestamp": "2026-02-25T11:22:12.865548+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/anonymous", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0d8b32ed"}
{"timestamp": "2026-02-25T11:22:12.880560+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: d9371ad1-9a54-490d-b1d5-9d5985490cce (访客_d9371a)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:22:12.881562+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "Anonymous user created: d9371ad1-9a54-490d-b1d5-9d5985490cce", "module": "auth", "function": "create_anonymous", "line": 46}
{"timestamp": "2026-02-25T11:22:12.882564+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/anonymous status=200 duration=0.017s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0d8b32ed"}
{"timestamp": "2026-02-25T11:22:14.924735+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/upgrade", "module": "logging", "function": "dispatch", "line": 24, "request_id": "caf22219"}
{"timestamp": "2026-02-25T11:22:14.958925+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "User upgraded: d9371ad1-9a54-490d-b1d5-9d5985490cce (pytest_upgrade_1772018530)", "module": "auth", "function": "upgrade", "line": 75}
{"timestamp": "2026-02-25T11:22:14.958925+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/upgrade status=200 duration=0.034s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "caf22219"}
{"timestamp": "2026-02-25T11:22:17.011996+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/d9371ad1-9a54-490d-b1d5-9d5985490cce", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e9bbb792"}
{"timestamp": "2026-02-25T11:22:17.034998+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: d9371ad1-9a54-490d-b1d5-9d5985490cce", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:22:17.034998+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/d9371ad1-9a54-490d-b1d5-9d5985490cce status=200 duration=0.024s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e9bbb792"}
{"timestamp": "2026-02-25T11:22:19.104208+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/anonymous", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ebf69afe"}
{"timestamp": "2026-02-25T11:22:19.116241+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 49ab20a4-e46c-4669-91c5-9eb051428e54 (访客_49ab20)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:22:19.117239+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "Anonymous user created: 49ab20a4-e46c-4669-91c5-9eb051428e54", "module": "auth", "function": "create_anonymous", "line": 46}
{"timestamp": "2026-02-25T11:22:19.117239+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/anonymous status=200 duration=0.014s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ebf69afe"}
{"timestamp": "2026-02-25T11:22:21.196828+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8a475014"}
{"timestamp": "2026-02-25T11:22:21.197832+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8a475014"}
{"timestamp": "2026-02-25T11:22:23.263259+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1ad70268"}
{"timestamp": "2026-02-25T11:22:23.264257+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1ad70268"}
{"timestamp": "2026-02-25T11:22:23.303018+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_49ab20, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:22:25.457914+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:22:39.525388+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 47 -> 98 chars, target_dim=interests, turn=0", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T11:22:39.552422+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=49ab20a4-e46c-4669-91c5-9eb051428e54, soul=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:22:39.553422+00:00", "level": "ERROR", "logger": "core.engine", "message": "Chat stream error: argument of type 'NoneType' is not iterable", "module": "engine", "function": "chat_stream", "line": 246, "exception": "Traceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 214, in chat_stream\n    if \"response\" in node_data and node_data[\"response\"]:\n       ^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: argument of type 'NoneType' is not iterable"}
{"timestamp": "2026-02-25T11:22:41.624865+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/49ab20a4-e46c-4669-91c5-9eb051428e54", "module": "logging", "function": "dispatch", "line": 24, "request_id": "2f40cca3"}
{"timestamp": "2026-02-25T11:22:41.637877+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 49ab20a4-e46c-4669-91c5-9eb051428e54", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:22:41.637877+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/49ab20a4-e46c-4669-91c5-9eb051428e54 status=200 duration=0.013s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "2f40cca3"}
{"timestamp": "2026-02-25T11:22:43.715642+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/anonymous", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4ed6312c"}
{"timestamp": "2026-02-25T11:22:43.725652+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 520ae0c7-7b21-4b24-9f81-e8c38f03c81c (访客_520ae0)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:22:43.725652+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "Anonymous user created: 520ae0c7-7b21-4b24-9f81-e8c38f03c81c", "module": "auth", "function": "create_anonymous", "line": 46}
{"timestamp": "2026-02-25T11:22:43.725652+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/anonymous status=200 duration=0.011s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4ed6312c"}
{"timestamp": "2026-02-25T11:22:45.786798+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b53b0ae0"}
{"timestamp": "2026-02-25T11:22:45.789799+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b53b0ae0"}
{"timestamp": "2026-02-25T11:22:47.864586+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0b5f3528"}
{"timestamp": "2026-02-25T11:22:47.865592+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0b5f3528"}
{"timestamp": "2026-02-25T11:22:47.884671+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_520ae0, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:22:50.463626+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:22:57.649954+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 584 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T11:23:13.473735+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 584 -> 596 chars, target_dim=interests, turn=0", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T11:23:13.507755+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=520ae0c7-7b21-4b24-9f81-e8c38f03c81c, soul=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:23:13.508753+00:00", "level": "ERROR", "logger": "core.engine", "message": "Chat stream error: argument of type 'NoneType' is not iterable", "module": "engine", "function": "chat_stream", "line": 246, "exception": "Traceback (most recent call last):\n  File \"D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-soul\\core\\engine.py\", line 214, in chat_stream\n    if \"response\" in node_data and node_data[\"response\"]:\n       ^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: argument of type 'NoneType' is not iterable"}
{"timestamp": "2026-02-25T11:23:15.582806+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/520ae0c7-7b21-4b24-9f81-e8c38f03c81c", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b0107f35"}
{"timestamp": "2026-02-25T11:23:15.610575+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 520ae0c7-7b21-4b24-9f81-e8c38f03c81c", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:23:15.610575+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/520ae0c7-7b21-4b24-9f81-e8c38f03c81c status=200 duration=0.028s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b0107f35"}
{"timestamp": "2026-02-25T11:24:28.937030+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T11:24:28.938031+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 78}
{"timestamp": "2026-02-25T11:24:28.938031+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T11:24:28.938031+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T11:24:28.938031+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 81}
{"timestamp": "2026-02-25T11:24:37.796867+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T11:24:37.797871+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 52}
{"timestamp": "2026-02-25T11:24:37.797871+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T11:24:37.814014+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T11:24:37.816976+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T11:24:41.989020+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T11:24:41.990019+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T11:24:41.992020+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 74}
{"timestamp": "2026-02-25T11:24:41.992020+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T11:24:44.913491+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b78e63b7"}
{"timestamp": "2026-02-25T11:24:44.917506+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b78e63b7"}
{"timestamp": "2026-02-25T11:24:46.971821+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1a50e8e8"}
{"timestamp": "2026-02-25T11:24:46.986859+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 6de0856f-c59c-46e5-92ad-2861792589db (pytest_chat_tmp)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:24:46.986859+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/users status=200 duration=0.015s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1a50e8e8"}
{"timestamp": "2026-02-25T11:24:49.039530+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "bb05d850"}
{"timestamp": "2026-02-25T11:24:49.045058+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "bb05d850"}
{"timestamp": "2026-02-25T11:24:51.086898+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "29ea4988"}
{"timestamp": "2026-02-25T11:24:51.087897+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "29ea4988"}
{"timestamp": "2026-02-25T11:24:51.111926+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T11:24:51.122094+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=pytest_chat_tmp, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0, anonymous=False", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:24:57.940760+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:25:01.462242+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=6de0856f-c59c-46e5-92ad-2861792589db, soul=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:25:03.536342+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/6de0856f-c59c-46e5-92ad-2861792589db", "module": "logging", "function": "dispatch", "line": 24, "request_id": "fb7553d0"}
{"timestamp": "2026-02-25T11:25:03.558274+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 6de0856f-c59c-46e5-92ad-2861792589db", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:25:03.558274+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/6de0856f-c59c-46e5-92ad-2861792589db status=200 duration=0.023s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "fb7553d0"}
{"timestamp": "2026-02-25T11:25:05.641372+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/auth/anonymous", "module": "logging", "function": "dispatch", "line": 24, "request_id": "51f2c862"}
{"timestamp": "2026-02-25T11:25:05.655094+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Created user: 2751ddc0-cf9d-48d8-9d8f-1135cda280a5 (访客_2751dd)", "module": "user_repository", "function": "create", "line": 49}
{"timestamp": "2026-02-25T11:25:05.655094+00:00", "level": "INFO", "logger": "api.routes.auth", "message": "Anonymous user created: 2751ddc0-cf9d-48d8-9d8f-1135cda280a5", "module": "auth", "function": "create_anonymous", "line": 46}
{"timestamp": "2026-02-25T11:25:05.656095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/auth/anonymous status=200 duration=0.015s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "51f2c862"}
{"timestamp": "2026-02-25T11:25:07.725699+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d90b283b"}
{"timestamp": "2026-02-25T11:25:07.726699+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d90b283b"}
{"timestamp": "2026-02-25T11:25:09.803225+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e41189b3"}
{"timestamp": "2026-02-25T11:25:09.805725+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e41189b3"}
{"timestamp": "2026-02-25T11:25:09.850692+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_2751dd, persona=勇哥说财经 - 抖音, today_msgs=0, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:25:12.076595+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=greeting, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:25:22.145155+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 37 -> 85 chars, target_dim=interests, turn=0", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T11:25:22.176936+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=2751ddc0-cf9d-48d8-9d8f-1135cda280a5, soul=勇哥说财经 - 抖音, total_messages=2", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:25:24.244440+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: DELETE /api/soul/users/2751ddc0-cf9d-48d8-9d8f-1135cda280a5", "module": "logging", "function": "dispatch", "line": 24, "request_id": "2da502cd"}
{"timestamp": "2026-02-25T11:25:24.266366+00:00", "level": "INFO", "logger": "storage.repositories.user_repository", "message": "Deleted user: 2751ddc0-cf9d-48d8-9d8f-1135cda280a5", "module": "user_repository", "function": "delete", "line": 70}
{"timestamp": "2026-02-25T11:25:24.267373+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: DELETE /api/soul/users/2751ddc0-cf9d-48d8-9d8f-1135cda280a5 status=200 duration=0.023s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "2da502cd"}
{"timestamp": "2026-02-25T11:42:52.169955+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b4fb8b3b"}
{"timestamp": "2026-02-25T11:42:52.171956+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b4fb8b3b"}
{"timestamp": "2026-02-25T11:42:52.178472+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1479fa2b"}
{"timestamp": "2026-02-25T11:42:52.181484+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1479fa2b"}
{"timestamp": "2026-02-25T11:42:52.183485+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "bf5a59c0"}
{"timestamp": "2026-02-25T11:42:52.186486+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "bf5a59c0"}
{"timestamp": "2026-02-25T11:42:53.501951+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6d8814bc"}
{"timestamp": "2026-02-25T11:42:53.504952+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音 status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6d8814bc"}
{"timestamp": "2026-02-25T11:44:34.318478+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "64c49609"}
{"timestamp": "2026-02-25T11:44:34.319483+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "64c49609"}
{"timestamp": "2026-02-25T11:44:34.322485+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c5031179"}
{"timestamp": "2026-02-25T11:44:34.325998+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c5031179"}
{"timestamp": "2026-02-25T11:44:34.347515+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=6, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:44:37.521518+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:44:44.662127+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 365 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T11:44:53.469713+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 365 -> 365 chars, target_dim=recent_topics, turn=6", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T11:44:53.498236+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=8", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:46:10.507710+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "95653432"}
{"timestamp": "2026-02-25T11:46:10.509705+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "95653432"}
{"timestamp": "2026-02-25T11:46:10.516719+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8170546c"}
{"timestamp": "2026-02-25T11:46:10.521720+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8170546c"}
{"timestamp": "2026-02-25T11:46:10.524717+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e6f13d8e"}
{"timestamp": "2026-02-25T11:46:10.526225+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e6f13d8e"}
{"timestamp": "2026-02-25T11:46:30.137561+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9cac2a5d"}
{"timestamp": "2026-02-25T11:46:30.138565+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9cac2a5d"}
{"timestamp": "2026-02-25T11:46:30.150105+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5c2666d7"}
{"timestamp": "2026-02-25T11:46:30.151104+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "345d1fe4"}
{"timestamp": "2026-02-25T11:46:30.151104+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5c2666d7"}
{"timestamp": "2026-02-25T11:46:30.152104+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "345d1fe4"}
{"timestamp": "2026-02-25T11:46:39.116733+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "78f72da9"}
{"timestamp": "2026-02-25T11:46:39.117736+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "78f72da9"}
{"timestamp": "2026-02-25T11:46:39.122740+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c8bd4f2f"}
{"timestamp": "2026-02-25T11:46:39.124740+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c8bd4f2f"}
{"timestamp": "2026-02-25T11:46:39.125739+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4765e15d"}
{"timestamp": "2026-02-25T11:46:39.127738+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4765e15d"}
{"timestamp": "2026-02-25T11:47:26.884500+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T11:47:26.884500+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 78}
{"timestamp": "2026-02-25T11:47:26.885499+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T11:47:26.886497+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T11:47:26.887504+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 81}
{"timestamp": "2026-02-25T11:47:35.330567+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T11:47:35.332567+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 53}
{"timestamp": "2026-02-25T11:47:35.332567+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T11:47:35.345634+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T11:47:35.347635+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T11:47:39.480214+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T11:47:39.480214+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T11:47:39.483217+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 75}
{"timestamp": "2026-02-25T11:47:39.483600+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T11:47:45.909955+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T11:47:45.910956+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 53}
{"timestamp": "2026-02-25T11:47:45.911842+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T11:47:45.925921+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T11:47:45.927921+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T11:47:50.204403+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T11:47:50.205403+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T11:47:50.207403+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 75}
{"timestamp": "2026-02-25T11:47:50.207403+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T11:47:56.669210+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T11:47:56.670235+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 53}
{"timestamp": "2026-02-25T11:47:56.670235+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T11:47:56.701047+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T11:47:56.702445+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T11:48:00.947032+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T11:48:00.947995+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T11:48:00.949992+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 75}
{"timestamp": "2026-02-25T11:48:00.949992+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T11:48:07.493363+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T11:48:07.494364+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 109}
{"timestamp": "2026-02-25T11:48:07.494364+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T11:48:07.507874+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T11:48:07.509873+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T11:48:11.626119+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T11:48:11.627120+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T11:48:11.629510+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 131}
{"timestamp": "2026-02-25T11:48:11.629510+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T11:48:18.080455+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T11:48:18.080455+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 109}
{"timestamp": "2026-02-25T11:48:18.081455+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T11:48:18.096469+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T11:48:18.098470+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T11:48:22.325188+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T11:48:22.325188+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T11:48:22.328193+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 131}
{"timestamp": "2026-02-25T11:48:22.328193+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T11:48:28.711218+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b65d8009"}
{"timestamp": "2026-02-25T11:48:28.720012+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音 status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b65d8009"}
{"timestamp": "2026-02-25T11:48:38.336456+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f2775854"}
{"timestamp": "2026-02-25T11:48:38.338477+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f2775854"}
{"timestamp": "2026-02-25T11:48:38.361594+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T11:48:38.376122+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=8, memories=0, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T11:48:42.501472+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T11:48:46.416274+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 273 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T11:49:04.971079+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 273 -> 321 chars, target_dim=recent_topics, turn=8", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T11:49:04.999090+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=10", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T11:49:05.006090+00:00", "level": "INFO", "logger": "core.graph.nodes.update_memory", "message": "Triggering preview summary: 10 messages reached", "module": "update_memory", "function": "update_memory", "line": 31}
{"timestamp": "2026-02-25T11:49:22.704520+00:00", "level": "INFO", "logger": "core.graph.nodes.update_memory", "message": "Preview summary updated for user=7d45464d-00e0-48ff-9b5b-f389fa23f854, persona=勇哥说财经 - 抖音", "module": "update_memory", "function": "_generate_preview_summary", "line": 73}
{"timestamp": "2026-02-25T12:00:30.075726+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b42d6947"}
{"timestamp": "2026-02-25T12:00:30.077735+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b5b6df7e"}
{"timestamp": "2026-02-25T12:00:30.078729+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "cc16beac"}
{"timestamp": "2026-02-25T12:00:30.080216+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "60eb3adf"}
{"timestamp": "2026-02-25T12:00:30.081210+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/status status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b42d6947"}
{"timestamp": "2026-02-25T12:00:30.082212+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/users status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b5b6df7e"}
{"timestamp": "2026-02-25T12:00:30.083216+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/models status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "cc16beac"}
{"timestamp": "2026-02-25T12:00:30.085211+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/souls status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "60eb3adf"}
{"timestamp": "2026-02-25T12:00:30.086211+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6ea70bc7"}
{"timestamp": "2026-02-25T12:00:30.089210+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "03735bab"}
{"timestamp": "2026-02-25T12:00:30.090718+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d9313f4b"}
{"timestamp": "2026-02-25T12:00:30.092725+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8849f1ae"}
{"timestamp": "2026-02-25T12:00:30.093725+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6ea70bc7"}
{"timestamp": "2026-02-25T12:00:30.096724+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d9313f4b"}
{"timestamp": "2026-02-25T12:00:30.097725+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8849f1ae"}
{"timestamp": "2026-02-25T12:00:30.098725+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.010s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "03735bab"}
{"timestamp": "2026-02-25T12:00:37.849452+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "686d7b22"}
{"timestamp": "2026-02-25T12:00:37.850453+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "686d7b22"}
{"timestamp": "2026-02-25T12:00:37.853453+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "07704e25"}
{"timestamp": "2026-02-25T12:00:37.854454+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d95e4abf"}
{"timestamp": "2026-02-25T12:00:37.854454+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "07704e25"}
{"timestamp": "2026-02-25T12:00:37.856452+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d95e4abf"}
{"timestamp": "2026-02-25T12:00:40.604135+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "39a53c28"}
{"timestamp": "2026-02-25T12:00:40.605135+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e4463fb3"}
{"timestamp": "2026-02-25T12:00:40.605135+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "39a53c28"}
{"timestamp": "2026-02-25T12:00:40.606135+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e4463fb3"}
{"timestamp": "2026-02-25T12:00:40.607135+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7f8ed36b"}
{"timestamp": "2026-02-25T12:00:40.607135+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "712e8653"}
{"timestamp": "2026-02-25T12:00:40.608135+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "712e8653"}
{"timestamp": "2026-02-25T12:00:40.609134+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7f8ed36b"}
{"timestamp": "2026-02-25T12:00:40.899861+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:00:40.900861+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 135}
{"timestamp": "2026-02-25T12:00:40.901859+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:00:40.901859+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:00:40.902862+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 138}
{"timestamp": "2026-02-25T12:00:49.538846+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:00:49.539845+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 109}
{"timestamp": "2026-02-25T12:00:49.539845+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:00:49.554997+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:00:49.557000+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:00:53.853523+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:00:53.854525+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:00:53.856524+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 131}
{"timestamp": "2026-02-25T12:00:53.856524+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:01:00.290339+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:01:00.291339+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 109}
{"timestamp": "2026-02-25T12:01:00.291339+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:01:00.308424+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:01:00.310425+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:01:04.539327+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:01:04.539327+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:01:04.542327+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 131}
{"timestamp": "2026-02-25T12:01:04.542327+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:01:11.045686+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:01:11.046685+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 109}
{"timestamp": "2026-02-25T12:01:11.046685+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:01:11.062638+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:01:11.065036+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:01:15.245260+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:01:15.246260+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:01:15.248260+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 131}
{"timestamp": "2026-02-25T12:01:15.249260+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:01:20.034397+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:01:20.034397+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 135}
{"timestamp": "2026-02-25T12:01:20.035376+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:01:20.036377+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:01:20.036377+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 138}
{"timestamp": "2026-02-25T12:01:26.578503+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:01:26.579502+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 110}
{"timestamp": "2026-02-25T12:01:26.579502+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:01:26.595490+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:01:26.597489+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:01:30.886645+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:01:30.886645+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:01:30.889645+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 132}
{"timestamp": "2026-02-25T12:01:30.889645+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:01:37.449715+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:01:37.450716+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:01:37.451716+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:01:37.464319+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:01:37.466318+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:01:41.626675+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:01:41.627676+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:01:41.629857+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:01:41.629857+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:01:47.945249+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:01:47.946249+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:01:47.946249+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:01:47.959248+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:01:47.961252+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:01:52.097333+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:01:52.098334+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:01:52.100838+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:01:52.100838+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:01:58.607619+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:01:58.609146+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:01:58.609146+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:01:58.626303+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:01:58.628304+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:02:02.817436+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:02:02.818437+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:02:02.820481+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:02:02.820481+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:02:09.186103+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:02:09.186103+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:02:09.187102+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:02:09.202558+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:02:09.204561+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:02:13.356460+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:02:13.357460+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:02:13.359458+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:02:13.359458+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:02:13.363570+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7934dceb"}
{"timestamp": "2026-02-25T12:02:13.363570+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e548e622"}
{"timestamp": "2026-02-25T12:02:13.363570+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8d6fc716"}
{"timestamp": "2026-02-25T12:02:13.363570+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a97427ab"}
{"timestamp": "2026-02-25T12:02:13.364568+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e1c3e0c3"}
{"timestamp": "2026-02-25T12:02:13.364568+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "017e144d"}
{"timestamp": "2026-02-25T12:02:13.364568+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6402d8f1"}
{"timestamp": "2026-02-25T12:02:13.364568+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "28b72ab7"}
{"timestamp": "2026-02-25T12:02:13.365570+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "499ae18e"}
{"timestamp": "2026-02-25T12:02:13.365570+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d7f639bb"}
{"timestamp": "2026-02-25T12:02:13.365570+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "76847540"}
{"timestamp": "2026-02-25T12:02:13.365570+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/小艾财经说 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f2b08eec"}
{"timestamp": "2026-02-25T12:02:13.366568+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f8761f42"}
{"timestamp": "2026-02-25T12:02:13.373042+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7934dceb"}
{"timestamp": "2026-02-25T12:02:13.373042+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e548e622"}
{"timestamp": "2026-02-25T12:02:13.373042+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8d6fc716"}
{"timestamp": "2026-02-25T12:02:13.373042+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a97427ab"}
{"timestamp": "2026-02-25T12:02:13.374049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6402d8f1"}
{"timestamp": "2026-02-25T12:02:13.374049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "28b72ab7"}
{"timestamp": "2026-02-25T12:02:13.374049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.009s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "499ae18e"}
{"timestamp": "2026-02-25T12:02:13.374049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d7f639bb"}
{"timestamp": "2026-02-25T12:02:13.374049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "76847540"}
{"timestamp": "2026-02-25T12:02:13.376049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5cfb42ab"}
{"timestamp": "2026-02-25T12:02:13.378049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5cfb42ab"}
{"timestamp": "2026-02-25T12:02:13.378049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "2770fe67"}
{"timestamp": "2026-02-25T12:02:13.379049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f456ca6a"}
{"timestamp": "2026-02-25T12:02:13.379049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.014s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "017e144d"}
{"timestamp": "2026-02-25T12:02:13.379049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音 status=200 duration=0.014s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e1c3e0c3"}
{"timestamp": "2026-02-25T12:02:13.380049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.013s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f8761f42"}
{"timestamp": "2026-02-25T12:02:13.381049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/小艾财经说 - 抖音 status=200 duration=0.015s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f2b08eec"}
{"timestamp": "2026-02-25T12:02:13.381049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f456ca6a"}
{"timestamp": "2026-02-25T12:02:13.382049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "2770fe67"}
{"timestamp": "2026-02-25T12:02:13.624003+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0e539a51"}
{"timestamp": "2026-02-25T12:02:13.625004+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0e539a51"}
{"timestamp": "2026-02-25T12:02:13.628004+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c8a8370c"}
{"timestamp": "2026-02-25T12:02:13.629006+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d97dea37"}
{"timestamp": "2026-02-25T12:02:13.629006+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c8a8370c"}
{"timestamp": "2026-02-25T12:02:13.630003+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d97dea37"}
{"timestamp": "2026-02-25T12:02:14.352868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4d98d642"}
{"timestamp": "2026-02-25T12:02:14.352868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "32f0a5fe"}
{"timestamp": "2026-02-25T12:02:14.353868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b12f6762"}
{"timestamp": "2026-02-25T12:02:14.353868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7dc8454c"}
{"timestamp": "2026-02-25T12:02:14.354868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4d98d642"}
{"timestamp": "2026-02-25T12:02:14.354868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "32f0a5fe"}
{"timestamp": "2026-02-25T12:02:14.354868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7dc8454c"}
{"timestamp": "2026-02-25T12:02:14.356371+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b12f6762"}
{"timestamp": "2026-02-25T12:02:19.928348+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4d3155f7"}
{"timestamp": "2026-02-25T12:02:19.930347+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4d3155f7"}
{"timestamp": "2026-02-25T12:02:19.934341+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d27b13af"}
{"timestamp": "2026-02-25T12:02:19.935341+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d27b13af"}
{"timestamp": "2026-02-25T12:02:19.936341+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8ba63d98"}
{"timestamp": "2026-02-25T12:02:19.937341+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8ba63d98"}
{"timestamp": "2026-02-25T12:02:20.365776+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "96e32ca5"}
{"timestamp": "2026-02-25T12:02:20.366779+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7c7dcc24"}
{"timestamp": "2026-02-25T12:02:20.366779+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4c6f2934"}
{"timestamp": "2026-02-25T12:02:20.366779+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "96e32ca5"}
{"timestamp": "2026-02-25T12:02:20.367780+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7c7dcc24"}
{"timestamp": "2026-02-25T12:02:20.368779+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a42e9604"}
{"timestamp": "2026-02-25T12:02:20.369779+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a42e9604"}
{"timestamp": "2026-02-25T12:02:20.369779+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4c6f2934"}
{"timestamp": "2026-02-25T12:02:24.380867+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "71314c9a"}
{"timestamp": "2026-02-25T12:02:24.380867+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "71314c9a"}
{"timestamp": "2026-02-25T12:02:24.382868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6779833d"}
{"timestamp": "2026-02-25T12:02:24.383868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c71679d3"}
{"timestamp": "2026-02-25T12:02:24.383868+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6779833d"}
{"timestamp": "2026-02-25T12:02:24.384869+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c71679d3"}
{"timestamp": "2026-02-25T12:02:25.355064+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "112d25bc"}
{"timestamp": "2026-02-25T12:02:25.356414+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3666d78c"}
{"timestamp": "2026-02-25T12:02:25.356414+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b9380930"}
{"timestamp": "2026-02-25T12:02:25.356414+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "112d25bc"}
{"timestamp": "2026-02-25T12:02:25.357418+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3666d78c"}
{"timestamp": "2026-02-25T12:02:25.358419+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b9380930"}
{"timestamp": "2026-02-25T12:02:25.358419+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8531762b"}
{"timestamp": "2026-02-25T12:02:25.359418+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8531762b"}
{"timestamp": "2026-02-25T12:02:30.019706+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d4ff8783"}
{"timestamp": "2026-02-25T12:02:30.020707+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d4ff8783"}
{"timestamp": "2026-02-25T12:02:30.022706+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ddd54f35"}
{"timestamp": "2026-02-25T12:02:30.022706+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "64ed8e71"}
{"timestamp": "2026-02-25T12:02:30.023705+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ddd54f35"}
{"timestamp": "2026-02-25T12:02:30.024705+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "64ed8e71"}
{"timestamp": "2026-02-25T12:02:30.343272+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "164c7542"}
{"timestamp": "2026-02-25T12:02:30.343272+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "823330b1"}
{"timestamp": "2026-02-25T12:02:30.343272+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9330e82d"}
{"timestamp": "2026-02-25T12:02:30.344272+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "683c2ab5"}
{"timestamp": "2026-02-25T12:02:30.344272+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "164c7542"}
{"timestamp": "2026-02-25T12:02:30.345272+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "823330b1"}
{"timestamp": "2026-02-25T12:02:30.346272+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "683c2ab5"}
{"timestamp": "2026-02-25T12:02:30.347273+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9330e82d"}
{"timestamp": "2026-02-25T12:03:03.284014+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:03:03.284014+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:03:03.284014+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:03:03.285013+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:03:03.285013+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:03:09.682403+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:03:09.683403+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:03:09.683403+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:03:09.698414+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:03:09.700414+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:03:13.908040+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:03:13.909040+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:03:13.911515+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:03:13.911515+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:03:56.891638+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "95220a68"}
{"timestamp": "2026-02-25T12:03:56.898755+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音 status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "95220a68"}
{"timestamp": "2026-02-25T12:05:20.428609+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "bf108c59"}
{"timestamp": "2026-02-25T12:05:20.430605+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "bf108c59"}
{"timestamp": "2026-02-25T12:05:20.436118+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1d8b4aeb"}
{"timestamp": "2026-02-25T12:05:20.442117+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1d8b4aeb"}
{"timestamp": "2026-02-25T12:05:20.451599+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T12:05:20.459102+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=10, memories=1, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T12:05:34.665000+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=False, memory=True", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T12:05:34.670008+00:00", "level": "INFO", "logger": "core.graph.nodes.memory_retrieval", "message": "Memory retrieval: found 1 entries, needs_detail=False", "module": "memory_retrieval", "function": "memory_retrieval", "line": 55}
{"timestamp": "2026-02-25T12:05:42.089292+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 299 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T12:05:54.086705+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 299 -> 342 chars, target_dim=recent_topics, turn=10", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T12:05:54.118244+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=12", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T12:06:09.498528+00:00", "level": "INFO", "logger": "core.graph.nodes.extract_preferences", "message": "Preferences extracted for user=7d45464d-00e0-48ff-9b5b-f389fa23f854: interests=2, progress={'communication_style': True, 'recent_topics': True, 'personality_type': True, 'visit_motivation': True, 'interests': True}", "module": "extract_preferences", "function": "extract_preferences", "line": 88}
{"timestamp": "2026-02-25T12:07:47.662337+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:07:47.662337+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:07:47.663337+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:07:47.663337+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:07:47.664338+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:08:44.198224+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:08:44.199228+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:08:44.199228+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:08:44.217025+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:08:44.219020+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:08:48.381863+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:08:48.382869+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:08:48.698548+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:08:48.699551+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:08:48.700552+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:08:48.700552+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:09:01.724188+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c06b2ee3"}
{"timestamp": "2026-02-25T12:09:01.730240+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c06b2ee3"}
{"timestamp": "2026-02-25T12:09:01.752506+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T12:09:01.765504+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=12, memories=1, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T12:09:36.836710+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T12:09:43.904796+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 406 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T12:10:24.279247+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 406 -> 490 chars, target_dim=recent_topics, turn=12", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T12:10:24.313286+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=14", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T12:10:54.604874+00:00", "level": "WARNING", "logger": "services.tts_service", "message": "TTS synthesis failed: ", "module": "tts_service", "function": "synthesize", "line": 70}
{"timestamp": "2026-02-25T12:11:27.020532+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:11:27.021532+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:11:27.022531+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:11:27.022531+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:11:27.023532+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:11:35.263561+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:11:35.264564+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:11:35.264564+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:11:35.282151+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:11:35.284149+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:11:39.504096+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:11:39.505096+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:11:39.796878+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:11:39.798877+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:11:39.799879+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:11:39.800879+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:12:30.049891+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "85385e22"}
{"timestamp": "2026-02-25T12:12:30.051892+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "85385e22"}
{"timestamp": "2026-02-25T12:12:30.078165+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T12:12:30.092510+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=14, memories=1, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T12:13:03.611454+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=recall, knowledge=False, memory=True", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T12:13:10.459730+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 512 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T12:13:53.134774+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 512 -> 546 chars, target_dim=recent_topics, turn=14", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T12:13:53.157279+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=16", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T12:15:24.599784+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:15:24.599784+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:15:24.600786+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:15:24.600786+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:15:24.600786+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:16:04.239225+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:16:04.240227+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:16:04.240227+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:16:04.253008+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:16:04.256009+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:16:08.439248+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:16:08.440752+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:16:08.737236+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:16:08.739235+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:16:08.739235+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:16:08.739235+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:16:22.113358+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:16:22.113358+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:16:22.114357+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:16:22.115357+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:16:22.115357+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:16:28.342650+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:16:28.343649+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:16:28.344028+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:16:28.360808+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:16:28.361842+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:16:32.602054+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:16:32.603054+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:16:32.899576+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:16:32.902575+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:16:32.903573+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:16:32.904578+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:16:54.680422+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:16:54.681417+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:16:54.681417+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:16:54.682419+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:16:54.683413+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:17:04.695388+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:17:04.696816+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:17:04.696816+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:17:04.712195+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:17:04.714391+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:17:08.910954+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:17:08.911955+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:17:09.213865+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:17:09.217397+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:17:09.217397+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:17:09.217397+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:17:23.530973+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "dc504128"}
{"timestamp": "2026-02-25T12:17:23.531973+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "dc504128"}
{"timestamp": "2026-02-25T12:17:23.534491+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e577eac5"}
{"timestamp": "2026-02-25T12:17:23.537489+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e577eac5"}
{"timestamp": "2026-02-25T12:17:23.560003+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T12:17:23.575007+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=16, memories=1, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T12:17:27.703164+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=True, memory=True", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T12:17:27.803987+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Connected to ChromaDB: persona=勇哥说财经 - 抖音, collection=b-0_b929855a", "module": "chroma_store", "function": "connect", "line": 76}
{"timestamp": "2026-02-25T12:17:27.827494+00:00", "level": "WARNING", "logger": "managers.persona_manager", "message": "ChromaDB index corrupted for 勇哥说财经 - 抖音: Error executing plan: Error sending backfill request to compactor: Error constructing hnsw segment reader: Error creating hnsw segment reader: Error loading hnsw index. Rebuilding...", "module": "persona_manager", "function": "connect_knowledge_base", "line": 168}
{"timestamp": "2026-02-25T12:17:27.839499+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Rebuilding ChromaDB for 勇哥说财经 - 抖音: 2214 segments from D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-maker\\output\\勇哥说财经 - 抖音\\optimized_texts", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 245}
{"timestamp": "2026-02-25T12:17:27.882051+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Deleted corrupt collection: b-0_b929855a", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 256}
{"timestamp": "2026-02-25T12:17:28.317493+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 64/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:28.435076+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 128/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:28.511278+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 192/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:28.584249+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 256/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:28.666594+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 320/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:28.743824+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 384/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:28.826942+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 448/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:28.906817+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 512/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:28.991512+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 576/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.083597+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 640/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.173281+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 704/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.263837+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 768/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.352625+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 832/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.442200+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 896/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.532565+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 960/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.673960+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1024/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.750935+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1088/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.823152+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1152/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.894878+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1216/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:29.969210+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1280/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.042204+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1344/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.119817+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1408/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.197420+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1472/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.288901+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1536/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.378247+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1600/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.467341+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1664/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.556578+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1728/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.654813+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1792/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.750902+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1856/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.852991+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1920/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:30.953971+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1984/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:31.077096+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2048/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:31.160885+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2112/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:31.273166+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2176/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:31.354956+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2214/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:17:31.354956+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "ChromaDB rebuilt: persona=勇哥说财经 - 抖音, collection=b-0_b929855a, docs=2214", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 316}
{"timestamp": "2026-02-25T12:17:31.355952+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Knowledge base rebuilt for 勇哥说财经 - 抖音: 2214 documents", "module": "persona_manager", "function": "_rebuild_knowledge_base", "line": 196}
{"timestamp": "2026-02-25T12:17:31.408409+00:00", "level": "INFO", "logger": "services.retrieval_service", "message": "Knowledge search: persona=勇哥说财经 - 抖音, query='我很想注册 怎么注册啊', results=3", "module": "retrieval_service", "function": "search_knowledge", "line": 57}
{"timestamp": "2026-02-25T12:17:31.409409+00:00", "level": "INFO", "logger": "core.graph.nodes.knowledge_retrieval", "message": "Knowledge retrieval: found 3 results", "module": "knowledge_retrieval", "function": "knowledge_retrieval", "line": 35}
{"timestamp": "2026-02-25T12:17:31.410410+00:00", "level": "INFO", "logger": "core.graph.nodes.memory_retrieval", "message": "Memory retrieval: found 1 entries, needs_detail=False", "module": "memory_retrieval", "function": "memory_retrieval", "line": 55}
{"timestamp": "2026-02-25T12:17:36.162816+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 477 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T12:17:47.858655+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 477 -> 613 chars, target_dim=recent_topics, turn=16", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T12:17:47.890655+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=18", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T12:18:01.068778+00:00", "level": "INFO", "logger": "core.graph.nodes.extract_preferences", "message": "Preferences extracted for user=7d45464d-00e0-48ff-9b5b-f389fa23f854: interests=4, progress={'communication_style': True, 'recent_topics': True, 'personality_type': True, 'visit_motivation': True, 'interests': True}", "module": "extract_preferences", "function": "extract_preferences", "line": 88}
{"timestamp": "2026-02-25T12:19:36.467717+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:19:36.468714+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:19:36.468714+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:19:36.469714+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:19:36.469714+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:19:45.246489+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:19:45.247490+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:19:45.247490+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:19:45.260629+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:19:45.263157+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:19:49.424367+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:19:49.425368+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:19:49.725617+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:19:49.728616+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:19:49.728616+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:19:49.729617+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:19:55.923247+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:19:55.924690+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:19:55.924690+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:19:55.936273+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:19:55.938278+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:20:00.290806+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:20:00.290806+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:20:00.582049+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:20:00.585046+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:20:00.586043+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:20:00.586043+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:20:00.590048+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8e21b0b7"}
{"timestamp": "2026-02-25T12:20:00.595579+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8e21b0b7"}
{"timestamp": "2026-02-25T12:20:00.621088+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T12:20:00.636594+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=18, memories=1, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T12:20:04.258146+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=chat, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T12:20:09.847692+00:00", "level": "INFO", "logger": "core.graph.nodes.generate_response", "message": "Generated response: 378 chars", "module": "generate_response", "function": "generate_response", "line": 51}
{"timestamp": "2026-02-25T12:20:20.153399+00:00", "level": "INFO", "logger": "core.graph.nodes.connection_rewrite", "message": "Connection rewrite: 378 -> 613 chars, target_dim=recent_topics, turn=18", "module": "connection_rewrite", "function": "connection_rewrite", "line": 93}
{"timestamp": "2026-02-25T12:20:20.186093+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=20", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T12:20:20.192105+00:00", "level": "INFO", "logger": "core.graph.nodes.update_memory", "message": "Triggering preview summary: 20 messages reached", "module": "update_memory", "function": "update_memory", "line": 31}
{"timestamp": "2026-02-25T12:20:36.824809+00:00", "level": "ERROR", "logger": "core.graph.nodes.update_memory", "message": "Preview summary failed: Expecting ',' delimiter: line 51 column 15 (char 1101)", "module": "update_memory", "function": "_generate_preview_summary", "line": 75}
{"timestamp": "2026-02-25T12:20:36.826807+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS check: tts_service=True, response_len=613", "module": "engine", "function": "chat_stream", "line": 317}
{"timestamp": "2026-02-25T12:21:58.409091+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:21:58.409091+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:21:58.410091+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:21:58.410091+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:21:58.410091+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:22:06.700485+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:22:06.701704+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:22:06.701908+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:22:06.713790+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:22:06.715790+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:22:10.866319+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:22:10.866319+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:22:11.166677+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:22:11.168602+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:22:11.169600+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:22:11.170600+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:36:53.861081+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:36:53.861081+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:36:53.862080+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:36:53.863083+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:36:53.863083+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:37:00.407540+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:37:00.420807+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:37:00.420807+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:37:00.439812+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:37:00.441811+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:37:04.778403+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:37:04.779404+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:37:05.069616+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:37:05.072612+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:37:05.073615+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:37:05.073615+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:37:19.078921+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:37:19.079918+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:37:19.079918+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:37:19.079918+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:37:19.080916+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:37:25.463168+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:37:25.464170+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:37:25.464170+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:37:25.484171+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:37:25.486172+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:37:29.646075+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:37:29.646075+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:37:29.946333+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:37:29.948366+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:37:29.950006+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:37:29.950006+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:37:32.557043+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:37:32.557043+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:37:32.557043+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:37:32.557043+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:37:32.557043+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:37:39.003597+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:37:39.003597+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:37:39.004597+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:37:39.022604+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:37:39.024605+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:37:43.176876+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:37:43.177876+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:37:43.476991+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:37:43.479002+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:37:43.480002+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:37:43.481008+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:37:45.877362+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:37:45.877362+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:37:45.878358+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:37:45.878358+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:37:45.879356+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:37:52.280967+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:37:52.281968+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:37:52.281968+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:37:52.297975+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:37:52.301252+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:37:56.628412+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:37:56.629413+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:37:56.920950+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:37:56.921947+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:37:56.922946+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:37:56.922946+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:38:03.287541+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:38:03.287541+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 113}
{"timestamp": "2026-02-25T12:38:03.288552+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:38:03.301052+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:38:03.303051+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:38:07.421102+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:38:07.421102+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:38:07.718892+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:38:07.721908+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 138}
{"timestamp": "2026-02-25T12:38:07.721908+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 140}
{"timestamp": "2026-02-25T12:38:07.722906+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:39:08.964401+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:39:08.964401+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 144}
{"timestamp": "2026-02-25T12:39:08.965404+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:39:08.965404+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:39:08.965404+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 147}
{"timestamp": "2026-02-25T12:39:15.406140+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:39:15.407140+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 201}
{"timestamp": "2026-02-25T12:39:15.407140+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:39:15.422193+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:39:15.424192+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:39:19.754541+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:39:19.755542+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:39:19.758541+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T12:39:20.063801+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:39:20.065418+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 231}
{"timestamp": "2026-02-25T12:39:20.065954+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 233}
{"timestamp": "2026-02-25T12:39:20.066484+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:39:31.683321+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5e727a8e"}
{"timestamp": "2026-02-25T12:39:31.685406+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c9445e10"}
{"timestamp": "2026-02-25T12:39:31.686406+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b88b2d8f"}
{"timestamp": "2026-02-25T12:39:31.686406+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a6081567"}
{"timestamp": "2026-02-25T12:39:31.687426+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/status status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5e727a8e"}
{"timestamp": "2026-02-25T12:39:31.689422+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/models status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c9445e10"}
{"timestamp": "2026-02-25T12:39:31.692419+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/souls status=200 duration=0.005s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b88b2d8f"}
{"timestamp": "2026-02-25T12:39:31.693420+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/users status=200 duration=0.007s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a6081567"}
{"timestamp": "2026-02-25T12:39:31.696423+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "271f7b34"}
{"timestamp": "2026-02-25T12:39:31.719944+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "559521a1"}
{"timestamp": "2026-02-25T12:39:31.719944+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.025s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "271f7b34"}
{"timestamp": "2026-02-25T12:39:31.720943+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1e06eeae"}
{"timestamp": "2026-02-25T12:39:31.720943+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c340797e"}
{"timestamp": "2026-02-25T12:39:31.745449+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.026s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "559521a1"}
{"timestamp": "2026-02-25T12:39:31.746451+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.025s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c340797e"}
{"timestamp": "2026-02-25T12:39:31.747451+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.027s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1e06eeae"}
{"timestamp": "2026-02-25T12:39:36.364925+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0aad487a"}
{"timestamp": "2026-02-25T12:39:36.364925+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "cbcbf952"}
{"timestamp": "2026-02-25T12:39:36.364925+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "fede16f7"}
{"timestamp": "2026-02-25T12:39:36.365926+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "0068cbc7"}
{"timestamp": "2026-02-25T12:39:36.366925+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0aad487a"}
{"timestamp": "2026-02-25T12:39:36.366925+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "fede16f7"}
{"timestamp": "2026-02-25T12:39:36.367926+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "0068cbc7"}
{"timestamp": "2026-02-25T12:39:36.367926+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "cbcbf952"}
{"timestamp": "2026-02-25T12:39:42.346317+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f08155da"}
{"timestamp": "2026-02-25T12:39:42.346317+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "16a98854"}
{"timestamp": "2026-02-25T12:39:42.347320+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f08155da"}
{"timestamp": "2026-02-25T12:39:42.347320+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "16a98854"}
{"timestamp": "2026-02-25T12:39:42.348320+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "bd40258a"}
{"timestamp": "2026-02-25T12:39:42.348320+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8fdcac4c"}
{"timestamp": "2026-02-25T12:39:42.349320+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8fdcac4c"}
{"timestamp": "2026-02-25T12:39:42.350321+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "bd40258a"}
{"timestamp": "2026-02-25T12:40:11.351518+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e0feff7f"}
{"timestamp": "2026-02-25T12:40:11.351518+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "4ec24d20"}
{"timestamp": "2026-02-25T12:40:11.351518+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e0feff7f"}
{"timestamp": "2026-02-25T12:40:11.352522+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "4ec24d20"}
{"timestamp": "2026-02-25T12:40:11.352522+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "12e03273"}
{"timestamp": "2026-02-25T12:40:11.353522+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "cf432adb"}
{"timestamp": "2026-02-25T12:40:11.354523+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "cf432adb"}
{"timestamp": "2026-02-25T12:40:11.354523+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "12e03273"}
{"timestamp": "2026-02-25T12:42:23.751485+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "9f5d96d6"}
{"timestamp": "2026-02-25T12:42:23.752480+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "9f5d96d6"}
{"timestamp": "2026-02-25T12:42:23.757484+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "bc19632e"}
{"timestamp": "2026-02-25T12:42:23.759479+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "bc19632e"}
{"timestamp": "2026-02-25T12:42:23.761480+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1bced649"}
{"timestamp": "2026-02-25T12:42:23.782482+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.021s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1bced649"}
{"timestamp": "2026-02-25T12:42:26.131768+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f136d4cf"}
{"timestamp": "2026-02-25T12:42:26.156354+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音 status=200 duration=0.024s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f136d4cf"}
{"timestamp": "2026-02-25T12:43:08.971260+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "111794ee"}
{"timestamp": "2026-02-25T12:43:08.972264+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "111794ee"}
{"timestamp": "2026-02-25T12:43:08.984773+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a74e126c"}
{"timestamp": "2026-02-25T12:43:08.985776+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "afa4e7e9"}
{"timestamp": "2026-02-25T12:43:08.985776+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a74e126c"}
{"timestamp": "2026-02-25T12:43:08.986775+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "afa4e7e9"}
{"timestamp": "2026-02-25T12:43:09.368095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5c594ff4"}
{"timestamp": "2026-02-25T12:43:09.369095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6cb04ac6"}
{"timestamp": "2026-02-25T12:43:09.369095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5c594ff4"}
{"timestamp": "2026-02-25T12:43:09.369095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6cb04ac6"}
{"timestamp": "2026-02-25T12:43:09.370095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "35143c2f"}
{"timestamp": "2026-02-25T12:43:09.370095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c5674ad9"}
{"timestamp": "2026-02-25T12:43:09.371095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c5674ad9"}
{"timestamp": "2026-02-25T12:43:09.372095+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "35143c2f"}
{"timestamp": "2026-02-25T12:43:14.634561+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c15bc294"}
{"timestamp": "2026-02-25T12:43:14.635565+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c15bc294"}
{"timestamp": "2026-02-25T12:43:14.638774+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "507ebd53"}
{"timestamp": "2026-02-25T12:43:14.639774+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "aa149ce9"}
{"timestamp": "2026-02-25T12:43:14.639774+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "507ebd53"}
{"timestamp": "2026-02-25T12:43:14.641775+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "aa149ce9"}
{"timestamp": "2026-02-25T12:43:15.362949+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a5a061a9"}
{"timestamp": "2026-02-25T12:43:15.363953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "97e24f7d"}
{"timestamp": "2026-02-25T12:43:15.363953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a5a061a9"}
{"timestamp": "2026-02-25T12:43:15.363953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "97e24f7d"}
{"timestamp": "2026-02-25T12:43:15.365403+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3891f3b6"}
{"timestamp": "2026-02-25T12:43:15.365403+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "90855db5"}
{"timestamp": "2026-02-25T12:43:15.366402+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "90855db5"}
{"timestamp": "2026-02-25T12:43:15.367406+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3891f3b6"}
{"timestamp": "2026-02-25T12:43:26.514348+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "74ac9f62"}
{"timestamp": "2026-02-25T12:43:26.514348+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "74ac9f62"}
{"timestamp": "2026-02-25T12:43:26.516347+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "e27a92a1"}
{"timestamp": "2026-02-25T12:43:26.517347+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "2e2d4a9a"}
{"timestamp": "2026-02-25T12:43:26.518350+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "e27a92a1"}
{"timestamp": "2026-02-25T12:43:26.520348+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "2e2d4a9a"}
{"timestamp": "2026-02-25T12:43:27.363252+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "2d5cf3bf"}
{"timestamp": "2026-02-25T12:43:27.364259+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8070b920"}
{"timestamp": "2026-02-25T12:43:27.364259+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "2d5cf3bf"}
{"timestamp": "2026-02-25T12:43:27.365302+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8070b920"}
{"timestamp": "2026-02-25T12:43:27.365302+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7dcfa4bd"}
{"timestamp": "2026-02-25T12:43:27.366302+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "cc0bb513"}
{"timestamp": "2026-02-25T12:43:27.367303+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "cc0bb513"}
{"timestamp": "2026-02-25T12:43:27.367303+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7dcfa4bd"}
{"timestamp": "2026-02-25T12:43:47.527286+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:43:47.528286+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 237}
{"timestamp": "2026-02-25T12:43:47.528286+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:43:47.529285+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:43:53.980410+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:43:53.981410+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 201}
{"timestamp": "2026-02-25T12:43:53.981410+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:43:53.997062+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:43:54.004062+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:43:58.283501+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:43:58.284505+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:43:58.286507+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T12:43:58.578322+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:43:58.580438+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 231}
{"timestamp": "2026-02-25T12:43:58.581442+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 233}
{"timestamp": "2026-02-25T12:43:58.582438+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:44:04.944258+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:44:04.945959+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 201}
{"timestamp": "2026-02-25T12:44:04.945959+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:44:04.957330+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:44:04.960333+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:44:09.243348+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:44:09.244851+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:44:09.247855+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T12:44:09.539238+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:44:09.540241+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 231}
{"timestamp": "2026-02-25T12:44:09.541236+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 233}
{"timestamp": "2026-02-25T12:44:09.541236+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:44:15.874947+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:44:15.875947+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 201}
{"timestamp": "2026-02-25T12:44:15.875947+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:44:15.898322+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:44:15.901322+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:44:20.115906+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:44:20.115906+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:44:20.119085+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T12:44:20.409926+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:44:20.412929+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 231}
{"timestamp": "2026-02-25T12:44:20.413927+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 233}
{"timestamp": "2026-02-25T12:44:20.413927+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:44:33.075504+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5dab1bcf"}
{"timestamp": "2026-02-25T12:44:33.079503+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5dab1bcf"}
{"timestamp": "2026-02-25T12:44:33.086638+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "bee9f280"}
{"timestamp": "2026-02-25T12:44:33.093166+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "bee9f280"}
{"timestamp": "2026-02-25T12:44:33.095169+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "291de8de"}
{"timestamp": "2026-02-25T12:44:33.099166+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "291de8de"}
{"timestamp": "2026-02-25T12:44:34.059206+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f1ad4ca7"}
{"timestamp": "2026-02-25T12:44:34.059206+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f1ad4ca7"}
{"timestamp": "2026-02-25T12:44:34.061207+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "525bc30c"}
{"timestamp": "2026-02-25T12:44:34.062709+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "fd58a08f"}
{"timestamp": "2026-02-25T12:44:34.062709+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "525bc30c"}
{"timestamp": "2026-02-25T12:44:34.063714+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "fd58a08f"}
{"timestamp": "2026-02-25T12:44:43.857176+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:44:43.858174+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 237}
{"timestamp": "2026-02-25T12:44:43.859174+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:44:43.859688+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:44:43.862710+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 242}
{"timestamp": "2026-02-25T12:45:08.020931+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:45:08.021931+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 201}
{"timestamp": "2026-02-25T12:45:08.021931+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:45:08.034897+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:45:08.036901+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:45:12.646356+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:45:12.647358+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:45:12.650356+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T12:45:12.945167+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:45:12.947168+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 231}
{"timestamp": "2026-02-25T12:45:12.947168+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 233}
{"timestamp": "2026-02-25T12:45:12.948168+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:45:14.574988+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "12336e85"}
{"timestamp": "2026-02-25T12:45:14.586000+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音 status=200 duration=0.011s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "12336e85"}
{"timestamp": "2026-02-25T12:45:35.063161+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b76e0b47"}
{"timestamp": "2026-02-25T12:45:35.063161+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b76e0b47"}
{"timestamp": "2026-02-25T12:45:35.065160+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f54faa33"}
{"timestamp": "2026-02-25T12:45:35.068160+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f54faa33"}
{"timestamp": "2026-02-25T12:45:35.077160+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T12:45:35.107606+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=20, memories=1, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T12:45:40.334121+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=True, memory=True", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T12:45:40.435925+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Connected to ChromaDB: persona=勇哥说财经 - 抖音, collection=b-0_b929855a", "module": "chroma_store", "function": "connect", "line": 76}
{"timestamp": "2026-02-25T12:45:40.438926+00:00", "level": "WARNING", "logger": "managers.persona_manager", "message": "ChromaDB index corrupted for 勇哥说财经 - 抖音: Error executing plan: Error sending backfill request to compactor: Error constructing hnsw segment reader: Error creating hnsw segment reader: Error loading hnsw index. Rebuilding...", "module": "persona_manager", "function": "connect_knowledge_base", "line": 168}
{"timestamp": "2026-02-25T12:45:40.581034+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Rebuilding ChromaDB for 勇哥说财经 - 抖音: 2214 segments from D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-maker\\output\\勇哥说财经 - 抖音\\optimized_texts", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 245}
{"timestamp": "2026-02-25T12:45:40.621575+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Deleted corrupt collection: b-0_b929855a", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 256}
{"timestamp": "2026-02-25T12:45:41.116986+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 64/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.240862+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 128/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.313023+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 192/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.386729+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 256/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.468056+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 320/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.549071+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 384/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.630908+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 448/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.710113+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 512/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.791684+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 576/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.881786+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 640/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:41.969825+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 704/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.060020+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 768/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.147992+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 832/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.234462+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 896/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.322751+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 960/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.435192+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1024/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.500892+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1088/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.573043+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1152/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.643598+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1216/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.724214+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1280/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.794468+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1344/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.869692+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1408/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:42.944713+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1472/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.035310+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1536/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.123959+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1600/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.211635+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1664/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.303368+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1728/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.397938+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1792/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.493466+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1856/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.593783+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1920/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.690764+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1984/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.810206+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2048/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.880262+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2112/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:43.952478+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2176/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:44.015104+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2214/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T12:45:44.015104+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "ChromaDB rebuilt: persona=勇哥说财经 - 抖音, collection=b-0_b929855a, docs=2214", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 316}
{"timestamp": "2026-02-25T12:45:44.016607+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Knowledge base rebuilt for 勇哥说财经 - 抖音: 2214 documents", "module": "persona_manager", "function": "_rebuild_knowledge_base", "line": 196}
{"timestamp": "2026-02-25T12:45:44.057115+00:00", "level": "INFO", "logger": "services.retrieval_service", "message": "Knowledge search: persona=勇哥说财经 - 抖音, query='嗯 我们怎么才可以吃肉new', results=3", "module": "retrieval_service", "function": "search_knowledge", "line": 57}
{"timestamp": "2026-02-25T12:45:44.057115+00:00", "level": "INFO", "logger": "core.graph.nodes.knowledge_retrieval", "message": "Knowledge retrieval: found 3 results", "module": "knowledge_retrieval", "function": "knowledge_retrieval", "line": 35}
{"timestamp": "2026-02-25T12:45:44.059151+00:00", "level": "INFO", "logger": "core.graph.nodes.memory_retrieval", "message": "Memory retrieval: found 1 entries, needs_detail=False", "module": "memory_retrieval", "function": "memory_retrieval", "line": 55}
{"timestamp": "2026-02-25T12:45:55.923211+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:45:55.925210+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 5.6s audio, 476220 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T12:46:01.274510+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:46:01.299573+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 17.0s audio, 1449020 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T12:46:06.535590+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:46:06.539594+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 14.4s audio, 1232272 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T12:46:09.827746+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:46:09.828745+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 4.3s audio, 370408 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T12:46:18.321469+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:46:18.329468+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 34.6s audio, 2954300 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T12:46:18.934209+00:00", "level": "WARNING", "logger": "services.tts_service", "message": "TTS request timed out (30s limit): ReadTimeout", "module": "tts_service", "function": "synthesize", "line": 88}
{"timestamp": "2026-02-25T12:46:19.232923+00:00", "level": "WARNING", "logger": "services.tts_service", "message": "TTS request timed out (30s limit): ReadTimeout", "module": "tts_service", "function": "synthesize", "line": 88}
{"timestamp": "2026-02-25T12:46:20.042848+00:00", "level": "WARNING", "logger": "services.tts_service", "message": "TTS request timed out (30s limit): ReadTimeout", "module": "tts_service", "function": "synthesize", "line": 88}
{"timestamp": "2026-02-25T12:46:20.549070+00:00", "level": "WARNING", "logger": "services.tts_service", "message": "TTS request timed out (30s limit): ReadTimeout", "module": "tts_service", "function": "synthesize", "line": 88}
{"timestamp": "2026-02-25T12:46:20.739641+00:00", "level": "WARNING", "logger": "services.tts_service", "message": "TTS request timed out (30s limit): ReadTimeout", "module": "tts_service", "function": "synthesize", "line": 88}
{"timestamp": "2026-02-25T12:46:20.991063+00:00", "level": "WARNING", "logger": "services.tts_service", "message": "TTS request timed out (30s limit): ReadTimeout", "module": "tts_service", "function": "synthesize", "line": 88}
{"timestamp": "2026-02-25T12:46:21.054668+00:00", "level": "WARNING", "logger": "services.tts_service", "message": "TTS request timed out (30s limit): ReadTimeout", "module": "tts_service", "function": "synthesize", "line": 88}
{"timestamp": "2026-02-25T12:46:21.066847+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=22", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T12:47:48.469220+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:47:48.470222+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 237}
{"timestamp": "2026-02-25T12:47:48.471219+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:47:48.471219+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:47:48.472219+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 242}
{"timestamp": "2026-02-25T12:47:57.231111+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:47:57.232113+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 202}
{"timestamp": "2026-02-25T12:47:57.232113+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:47:57.245820+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:47:57.247820+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:48:01.411519+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:48:01.412519+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:48:01.416520+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T12:48:01.710989+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:48:01.712987+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 232}
{"timestamp": "2026-02-25T12:48:01.713987+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 234}
{"timestamp": "2026-02-25T12:48:01.713987+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:48:08.098386+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:48:08.099439+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 202}
{"timestamp": "2026-02-25T12:48:08.099636+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:48:08.112644+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:48:08.114644+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:48:12.353239+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:48:12.353239+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:48:12.356241+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T12:48:12.649303+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:48:12.651866+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 232}
{"timestamp": "2026-02-25T12:48:12.652487+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 234}
{"timestamp": "2026-02-25T12:48:12.652487+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:52:34.850869+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T12:52:34.850869+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 238}
{"timestamp": "2026-02-25T12:52:34.851868+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T12:52:34.851868+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T12:52:34.853012+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 243}
{"timestamp": "2026-02-25T12:52:41.286753+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:52:41.287757+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 202}
{"timestamp": "2026-02-25T12:52:41.287757+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:52:41.305789+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:52:41.307788+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:52:45.529521+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:52:45.530522+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:52:45.533026+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T12:52:45.827637+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:52:45.828635+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 232}
{"timestamp": "2026-02-25T12:52:45.828635+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 234}
{"timestamp": "2026-02-25T12:52:45.828635+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T12:52:52.154772+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T12:52:52.155773+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 202}
{"timestamp": "2026-02-25T12:52:52.155773+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T12:52:52.167776+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T12:52:52.170293+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T12:52:56.372005+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T12:52:56.373006+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T12:52:56.376009+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T12:52:56.681692+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T12:52:56.683692+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 232}
{"timestamp": "2026-02-25T12:52:56.684690+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 234}
{"timestamp": "2026-02-25T12:52:56.685691+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T13:03:15.141183+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "175ee539"}
{"timestamp": "2026-02-25T13:03:15.143186+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "175ee539"}
{"timestamp": "2026-02-25T13:03:15.146185+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "289e777c"}
{"timestamp": "2026-02-25T13:03:15.153188+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.006s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "289e777c"}
{"timestamp": "2026-02-25T13:03:15.173693+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T13:03:15.184880+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=22, memories=1, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T13:03:18.503784+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=True, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T13:03:18.600524+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Connected to ChromaDB: persona=勇哥说财经 - 抖音, collection=b-0_b929855a", "module": "chroma_store", "function": "connect", "line": 76}
{"timestamp": "2026-02-25T13:03:18.622065+00:00", "level": "WARNING", "logger": "managers.persona_manager", "message": "ChromaDB index corrupted for 勇哥说财经 - 抖音: Error executing plan: Error sending backfill request to compactor: Error constructing hnsw segment reader: Error creating hnsw segment reader: Error loading hnsw index. Rebuilding...", "module": "persona_manager", "function": "connect_knowledge_base", "line": 168}
{"timestamp": "2026-02-25T13:03:18.629065+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Rebuilding ChromaDB for 勇哥说财经 - 抖音: 2214 segments from D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-maker\\output\\勇哥说财经 - 抖音\\optimized_texts", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 245}
{"timestamp": "2026-02-25T13:03:18.669761+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Deleted corrupt collection: b-0_b929855a", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 256}
{"timestamp": "2026-02-25T13:03:19.183430+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 64/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:19.302267+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 128/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:19.377888+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 192/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:19.451017+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 256/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:19.533493+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 320/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:19.615985+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 384/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:19.698928+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 448/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:19.777560+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 512/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:19.857194+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 576/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:19.946270+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 640/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.033768+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 704/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.123267+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 768/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.211753+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 832/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.302288+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 896/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.392539+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 960/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.514604+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1024/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.591474+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1088/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.663032+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1152/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.734259+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1216/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.815854+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1280/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.895790+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1344/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:20.972380+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1408/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.055901+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1472/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.143506+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1536/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.231091+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1600/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.318154+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1664/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.406171+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1728/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.499571+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1792/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.592748+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1856/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.693854+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1920/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.798449+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1984/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.921882+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2048/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:21.989267+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2112/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:22.057411+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2176/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:22.117638+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2214/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:03:22.117638+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "ChromaDB rebuilt: persona=勇哥说财经 - 抖音, collection=b-0_b929855a, docs=2214", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 316}
{"timestamp": "2026-02-25T13:03:22.118642+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Knowledge base rebuilt for 勇哥说财经 - 抖音: 2214 documents", "module": "persona_manager", "function": "_rebuild_knowledge_base", "line": 196}
{"timestamp": "2026-02-25T13:03:22.161464+00:00", "level": "INFO", "logger": "services.retrieval_service", "message": "Knowledge search: persona=勇哥说财经 - 抖音, query='最近哪个板块值得关注', results=3", "module": "retrieval_service", "function": "search_knowledge", "line": 57}
{"timestamp": "2026-02-25T13:03:22.161464+00:00", "level": "INFO", "logger": "core.graph.nodes.knowledge_retrieval", "message": "Knowledge retrieval: found 3 results", "module": "knowledge_retrieval", "function": "knowledge_retrieval", "line": 35}
{"timestamp": "2026-02-25T13:03:31.459543+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:03:31.479527+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 16.7s audio, 1423420 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:03:34.494417+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:03:34.507857+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 4.1s audio, 346512 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:03:39.409271+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:03:39.436779+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 16.6s audio, 1414888 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:03:42.900889+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:03:42.913056+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 7.9s audio, 670780 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:03:45.820199+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:03:45.843777+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 5.3s audio, 452328 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:03:49.051171+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:03:49.052676+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 7.2s audio, 612752 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:03:51.935669+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:03:51.947668+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 3.9s audio, 336272 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:04:05.676387+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:04:05.688871+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 60.4s audio, 5150780 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:04:10.683381+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:04:10.705927+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 14.1s audio, 1203260 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:04:16.580411+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:04:16.583415+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 17.1s audio, 1455848 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:04:22.240576+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:04:22.245082+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 20.6s audio, 1759632 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:04:28.217662+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:04:28.222814+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 22.1s audio, 1885928 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:04:30.786945+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:04:30.787947+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 3.1s audio, 268008 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:04:34.288652+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:04:34.290651+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 8.4s audio, 715152 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:04:34.307163+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=24", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T13:04:46.544718+00:00", "level": "INFO", "logger": "core.graph.nodes.extract_preferences", "message": "Preferences extracted for user=7d45464d-00e0-48ff-9b5b-f389fa23f854: interests=7, progress={'communication_style': True, 'recent_topics': True, 'personality_type': True, 'visit_motivation': True, 'interests': True}", "module": "extract_preferences", "function": "extract_preferences", "line": 88}
{"timestamp": "2026-02-25T13:20:08.477506+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T13:20:08.478503+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 238}
{"timestamp": "2026-02-25T13:20:08.479501+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T13:20:08.479501+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T13:20:08.481503+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 243}
{"timestamp": "2026-02-25T13:20:17.455308+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T13:20:17.457280+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 202}
{"timestamp": "2026-02-25T13:20:17.457280+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T13:20:17.473227+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T13:20:17.475233+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T13:20:21.720448+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T13:20:21.720448+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T13:20:21.723495+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T13:20:22.018373+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:20:22.020374+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 232}
{"timestamp": "2026-02-25T13:20:22.020374+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 234}
{"timestamp": "2026-02-25T13:20:22.021457+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T13:22:26.078014+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T13:22:26.079014+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 238}
{"timestamp": "2026-02-25T13:22:26.080012+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T13:22:26.080012+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T13:22:26.081011+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 243}
{"timestamp": "2026-02-25T13:22:32.477528+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T13:22:32.478527+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 202}
{"timestamp": "2026-02-25T13:22:32.478527+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T13:22:32.491527+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T13:22:32.493529+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T13:22:36.707494+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T13:22:36.708495+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T13:22:36.711496+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T13:22:37.006148+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:22:37.006148+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 232}
{"timestamp": "2026-02-25T13:22:37.006148+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 234}
{"timestamp": "2026-02-25T13:22:37.007650+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T13:22:43.319060+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T13:22:43.320083+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 202}
{"timestamp": "2026-02-25T13:22:43.320083+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T13:22:43.333206+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T13:22:43.335205+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T13:22:47.490775+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T13:22:47.491775+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T13:22:47.493775+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T13:22:47.788612+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:22:47.790617+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 232}
{"timestamp": "2026-02-25T13:22:47.791614+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 234}
{"timestamp": "2026-02-25T13:22:47.792618+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T13:22:54.046275+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T13:22:54.047277+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 202}
{"timestamp": "2026-02-25T13:22:54.047277+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T13:22:54.060281+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T13:22:54.062284+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T13:22:58.267120+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T13:22:58.268120+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T13:22:58.271301+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T13:22:58.563074+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:22:58.565350+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 232}
{"timestamp": "2026-02-25T13:22:58.565350+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 234}
{"timestamp": "2026-02-25T13:22:58.566380+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T13:24:35.128992+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f9bb9485"}
{"timestamp": "2026-02-25T13:24:35.129988+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/chat status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f9bb9485"}
{"timestamp": "2026-02-25T13:24:35.132988+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a70f07f3"}
{"timestamp": "2026-02-25T13:24:35.135499+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a70f07f3"}
{"timestamp": "2026-02-25T13:24:35.155024+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T13:24:35.174025+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=24, memories=1, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T13:24:40.672207+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=question, knowledge=True, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T13:24:40.767759+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Connected to ChromaDB: persona=勇哥说财经 - 抖音, collection=b-0_b929855a", "module": "chroma_store", "function": "connect", "line": 76}
{"timestamp": "2026-02-25T13:24:40.787514+00:00", "level": "WARNING", "logger": "managers.persona_manager", "message": "ChromaDB index corrupted for 勇哥说财经 - 抖音: Error executing plan: Error sending backfill request to compactor: Error constructing hnsw segment reader: Error creating hnsw segment reader: Error loading hnsw index. Rebuilding...", "module": "persona_manager", "function": "connect_knowledge_base", "line": 168}
{"timestamp": "2026-02-25T13:24:40.797016+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Rebuilding ChromaDB for 勇哥说财经 - 抖音: 2214 segments from D:\\Work\\mahoupao\\video-analysis\\video-analysis\\video-analysis-maker\\output\\勇哥说财经 - 抖音\\optimized_texts", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 245}
{"timestamp": "2026-02-25T13:24:40.843971+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "Deleted corrupt collection: b-0_b929855a", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 256}
{"timestamp": "2026-02-25T13:24:41.350941+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 64/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:41.471036+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 128/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:41.544736+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 192/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:41.618592+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 256/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:41.702888+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 320/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:41.779692+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 384/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:41.863436+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 448/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:41.943080+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 512/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.024152+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 576/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.115787+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 640/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.207659+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 704/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.297486+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 768/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.389779+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 832/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.477152+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 896/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.568217+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 960/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.681471+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1024/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.749202+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1088/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.818982+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1152/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.890661+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1216/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:42.965304+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1280/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.037158+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1344/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.114319+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1408/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.193123+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1472/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.284670+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1536/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.376192+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1600/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.465884+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1664/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.558241+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1728/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.653592+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1792/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.748792+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1856/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.845411+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1920/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:43.943575+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 1984/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:44.063027+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2048/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:44.132343+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2112/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:44.198950+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2176/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:44.260681+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "  Added 2214/2214 documents...", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 310}
{"timestamp": "2026-02-25T13:24:44.260681+00:00", "level": "INFO", "logger": "storage.vector_stores.chroma_store", "message": "ChromaDB rebuilt: persona=勇哥说财经 - 抖音, collection=b-0_b929855a, docs=2214", "module": "chroma_store", "function": "rebuild_from_optimized_texts", "line": 316}
{"timestamp": "2026-02-25T13:24:44.260681+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Knowledge base rebuilt for 勇哥说财经 - 抖音: 2214 documents", "module": "persona_manager", "function": "_rebuild_knowledge_base", "line": 196}
{"timestamp": "2026-02-25T13:24:44.304970+00:00", "level": "INFO", "logger": "services.retrieval_service", "message": "Knowledge search: persona=勇哥说财经 - 抖音, query='大跌的时候 我没有钱怎么办', results=3", "module": "retrieval_service", "function": "search_knowledge", "line": 57}
{"timestamp": "2026-02-25T13:24:44.304970+00:00", "level": "INFO", "logger": "core.graph.nodes.knowledge_retrieval", "message": "Knowledge retrieval: found 3 results", "module": "knowledge_retrieval", "function": "knowledge_retrieval", "line": 35}
{"timestamp": "2026-02-25T13:24:59.802555+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:24:59.809556+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 28.8s audio, 2461072 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:25:05.249959+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:25:05.275693+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 17.4s audio, 1483152 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:25:08.069109+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:25:08.091644+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 3.2s audio, 274832 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:25:08.109149+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=26", "module": "post_process", "function": "post_process", "line": 41}
{"timestamp": "2026-02-25T13:26:56.870520+00:00", "level": "INFO", "logger": "main", "message": "Shutting down...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2026-02-25T13:26:56.871524+00:00", "level": "INFO", "logger": "core.engine", "message": "Stopping SoulEngine...", "module": "engine", "function": "stop", "line": 238}
{"timestamp": "2026-02-25T13:26:56.871524+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager stopped", "module": "cache_manager", "function": "stop", "line": 48}
{"timestamp": "2026-02-25T13:26:56.871524+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "PersonaManager closed", "module": "persona_manager", "function": "close", "line": 326}
{"timestamp": "2026-02-25T13:26:56.871524+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine stopped", "module": "engine", "function": "stop", "line": 243}
{"timestamp": "2026-02-25T13:27:05.794094+00:00", "level": "INFO", "logger": "main", "message": "Starting Video-Analysis-Soul...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2026-02-25T13:27:05.795094+00:00", "level": "INFO", "logger": "core.engine", "message": "Starting SoulEngine...", "module": "engine", "function": "start", "line": 202}
{"timestamp": "2026-02-25T13:27:05.795094+00:00", "level": "INFO", "logger": "managers.cache_manager", "message": "Session cache manager started", "module": "cache_manager", "function": "start", "line": 38}
{"timestamp": "2026-02-25T13:27:05.808604+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Loading embedding model: BAAI/bge-large-zh-v1.5 (device: cuda)", "module": "embedding_service", "function": "initialize", "line": 46}
{"timestamp": "2026-02-25T13:27:05.810605+00:00", "level": "INFO", "logger": "sentence_transformers.SentenceTransformer", "message": "Load pretrained SentenceTransformer: BAAI/bge-large-zh-v1.5", "module": "SentenceTransformer", "function": "__init__", "line": 227}
{"timestamp": "2026-02-25T13:27:09.968600+00:00", "level": "INFO", "logger": "services.embedding_service", "message": "Embedding model loaded: dim=1024", "module": "embedding_service", "function": "initialize", "line": 50}
{"timestamp": "2026-02-25T13:27:09.969600+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "LangGraph workflow built successfully", "module": "workflow", "function": "build_workflow", "line": 111}
{"timestamp": "2026-02-25T13:27:09.971599+00:00", "level": "INFO", "logger": "core.graph.workflow", "message": "Context-only workflow built successfully", "module": "workflow", "function": "build_context_workflow", "line": 169}
{"timestamp": "2026-02-25T13:27:10.257437+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://localhost:8003/api/voice/status \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:27:10.258945+00:00", "level": "INFO", "logger": "core.engine", "message": "TTS service available: True", "module": "engine", "function": "start", "line": 232}
{"timestamp": "2026-02-25T13:27:10.259955+00:00", "level": "INFO", "logger": "core.engine", "message": "SoulEngine started successfully", "module": "engine", "function": "start", "line": 234}
{"timestamp": "2026-02-25T13:27:10.259955+00:00", "level": "INFO", "logger": "main", "message": "Server running on 0.0.0.0:8004", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2026-02-25T13:27:10.261953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b202f122"}
{"timestamp": "2026-02-25T13:27:10.261953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a8474bdb"}
{"timestamp": "2026-02-25T13:27:10.262953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "5f8658a7"}
{"timestamp": "2026-02-25T13:27:10.262953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "39e710ae"}
{"timestamp": "2026-02-25T13:27:10.262953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: OPTIONS /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "d0fecc04"}
{"timestamp": "2026-02-25T13:27:10.264953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/users status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b202f122"}
{"timestamp": "2026-02-25T13:27:10.265953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/models status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a8474bdb"}
{"timestamp": "2026-02-25T13:27:10.265953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "5f8658a7"}
{"timestamp": "2026-02-25T13:27:10.266952+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/status status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "39e710ae"}
{"timestamp": "2026-02-25T13:27:10.266952+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: OPTIONS /api/soul/souls status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "d0fecc04"}
{"timestamp": "2026-02-25T13:27:10.267953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "241f27da"}
{"timestamp": "2026-02-25T13:27:10.268953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a99bfa63"}
{"timestamp": "2026-02-25T13:27:10.268953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b5656131"}
{"timestamp": "2026-02-25T13:27:10.269953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a46a690f"}
{"timestamp": "2026-02-25T13:27:10.271953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a99bfa63"}
{"timestamp": "2026-02-25T13:27:10.271953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b5656131"}
{"timestamp": "2026-02-25T13:27:10.271953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a46a690f"}
{"timestamp": "2026-02-25T13:27:10.272953+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "455de039"}
{"timestamp": "2026-02-25T13:27:10.273952+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7c133395"}
{"timestamp": "2026-02-25T13:27:10.274951+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7c133395"}
{"timestamp": "2026-02-25T13:27:10.275952+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "455de039"}
{"timestamp": "2026-02-25T13:27:10.279951+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.012s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "241f27da"}
{"timestamp": "2026-02-25T13:27:16.152261+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "db57df7f"}
{"timestamp": "2026-02-25T13:27:16.154254+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "db57df7f"}
{"timestamp": "2026-02-25T13:27:16.163003+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "208dfed0"}
{"timestamp": "2026-02-25T13:27:16.166001+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "208dfed0"}
{"timestamp": "2026-02-25T13:27:16.168002+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "efc29892"}
{"timestamp": "2026-02-25T13:27:16.171010+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "efc29892"}
{"timestamp": "2026-02-25T13:27:16.345216+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "b184a2fe"}
{"timestamp": "2026-02-25T13:27:16.345216+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "b184a2fe"}
{"timestamp": "2026-02-25T13:27:16.346220+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "921f2885"}
{"timestamp": "2026-02-25T13:27:16.347220+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "921f2885"}
{"timestamp": "2026-02-25T13:27:16.347220+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "c84a68dd"}
{"timestamp": "2026-02-25T13:27:16.348221+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "c84a68dd"}
{"timestamp": "2026-02-25T13:27:16.349221+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "dc131c81"}
{"timestamp": "2026-02-25T13:27:16.349221+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "dc131c81"}
{"timestamp": "2026-02-25T13:27:23.346674+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f2e1cf8a"}
{"timestamp": "2026-02-25T13:27:23.346674+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "59089b79"}
{"timestamp": "2026-02-25T13:27:23.346674+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f0e7f8ac"}
{"timestamp": "2026-02-25T13:27:23.347754+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "77f67457"}
{"timestamp": "2026-02-25T13:27:23.347754+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f2e1cf8a"}
{"timestamp": "2026-02-25T13:27:23.349263+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f0e7f8ac"}
{"timestamp": "2026-02-25T13:27:23.349766+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "77f67457"}
{"timestamp": "2026-02-25T13:27:23.349766+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "3de5face"}
{"timestamp": "2026-02-25T13:27:23.350770+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.000s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "3de5face"}
{"timestamp": "2026-02-25T13:27:23.350770+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "59089b79"}
{"timestamp": "2026-02-25T13:27:23.352819+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "da9b2dbd"}
{"timestamp": "2026-02-25T13:27:23.355065+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "a0ddbe79"}
{"timestamp": "2026-02-25T13:27:23.355065+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "da9b2dbd"}
{"timestamp": "2026-02-25T13:27:23.356065+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "a0ddbe79"}
{"timestamp": "2026-02-25T13:28:25.690051+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "27a54f7a"}
{"timestamp": "2026-02-25T13:28:25.692049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/models", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8f51352e"}
{"timestamp": "2026-02-25T13:28:25.692049+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "ea355e95"}
{"timestamp": "2026-02-25T13:28:25.693048+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/users", "module": "logging", "function": "dispatch", "line": 24, "request_id": "f02cf7f7"}
{"timestamp": "2026-02-25T13:28:25.693048+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "27a54f7a"}
{"timestamp": "2026-02-25T13:28:25.699052+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/models status=200 duration=0.008s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8f51352e"}
{"timestamp": "2026-02-25T13:28:25.700055+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.007s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "ea355e95"}
{"timestamp": "2026-02-25T13:28:25.701053+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/status", "module": "logging", "function": "dispatch", "line": 24, "request_id": "cbabb9f1"}
{"timestamp": "2026-02-25T13:28:25.702053+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854", "module": "logging", "function": "dispatch", "line": 24, "request_id": "1ffdab3a"}
{"timestamp": "2026-02-25T13:28:25.702053+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/souls", "module": "logging", "function": "dispatch", "line": 24, "request_id": "6b8f4b2c"}
{"timestamp": "2026-02-25T13:28:25.703055+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/status status=200 duration=0.001s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "cbabb9f1"}
{"timestamp": "2026-02-25T13:28:25.705053+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/souls status=200 duration=0.003s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "6b8f4b2c"}
{"timestamp": "2026-02-25T13:28:25.706052+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/users status=200 duration=0.013s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "f02cf7f7"}
{"timestamp": "2026-02-25T13:28:25.707052+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/auth/user/7d45464d-00e0-48ff-9b5b-f389fa23f854 status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "1ffdab3a"}
{"timestamp": "2026-02-25T13:28:57.003515+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音", "module": "logging", "function": "dispatch", "line": 24, "request_id": "8d2dccb0"}
{"timestamp": "2026-02-25T13:28:57.006515+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: GET /api/soul/history/7d45464d-00e0-48ff-9b5b-f389fa23f854/勇哥说财经 - 抖音 status=200 duration=0.004s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "8d2dccb0"}
{"timestamp": "2026-02-25T13:29:19.373276+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request start: POST /api/soul/chat", "module": "logging", "function": "dispatch", "line": 24, "request_id": "7c1d64b1"}
{"timestamp": "2026-02-25T13:29:19.375298+00:00", "level": "INFO", "logger": "api.middleware.logging", "message": "Request end: POST /api/soul/chat status=200 duration=0.002s", "module": "logging", "function": "dispatch", "line": 32, "request_id": "7c1d64b1"}
{"timestamp": "2026-02-25T13:29:19.387483+00:00", "level": "INFO", "logger": "managers.persona_manager", "message": "Loaded persona: 勇哥说财经 - 抖音 (videos=39, knowledge=0)", "module": "persona_manager", "function": "load_persona", "line": 68}
{"timestamp": "2026-02-25T13:29:19.397489+00:00", "level": "INFO", "logger": "core.graph.nodes.load_context", "message": "Loaded context: user=访客_7d4546, persona=勇哥说财经 - 抖音, today_msgs=26, memories=1, anonymous=True", "module": "load_context", "function": "load_context", "line": 54}
{"timestamp": "2026-02-25T13:29:21.678922+00:00", "level": "INFO", "logger": "core.graph.nodes.analyze_message", "message": "Intent analysis: intent=farewell, knowledge=False, memory=False", "module": "analyze_message", "function": "analyze_message", "line": 28}
{"timestamp": "2026-02-25T13:29:24.938172+00:00", "level": "INFO", "logger": "core.engine", "message": "Awaiting 4 TTS tasks for sentences: [0, 1, 2, 3]", "module": "engine", "function": "chat_stream", "line": 468}
{"timestamp": "2026-02-25T13:29:32.141517+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:29:32.147517+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 22.9s audio, 1952488 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:29:32.147517+00:00", "level": "INFO", "logger": "core.engine", "message": "Yielding audio event: sentence=0, base64_bytes=1952488, duration=22.9s", "module": "engine", "function": "chat_stream", "line": 477}
{"timestamp": "2026-02-25T13:29:37.083993+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:29:37.087993+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 16.3s audio, 1394408 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:29:37.088994+00:00", "level": "INFO", "logger": "core.engine", "message": "Yielding audio event: sentence=1, base64_bytes=1394408, duration=16.3s", "module": "engine", "function": "chat_stream", "line": 477}
{"timestamp": "2026-02-25T13:29:42.327450+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:29:42.341160+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 17.0s audio, 1449020 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:29:42.342161+00:00", "level": "INFO", "logger": "core.engine", "message": "Yielding audio event: sentence=2, base64_bytes=1449020, duration=17.0s", "module": "engine", "function": "chat_stream", "line": 477}
{"timestamp": "2026-02-25T13:29:48.021701+00:00", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST http://localhost:8003/api/voice/synthesize \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1740}
{"timestamp": "2026-02-25T13:29:48.026582+00:00", "level": "INFO", "logger": "services.tts_service", "message": "TTS synthesis OK: 21.2s audio, 1810832 bytes base64", "module": "tts_service", "function": "synthesize", "line": 77}
{"timestamp": "2026-02-25T13:29:48.027095+00:00", "level": "INFO", "logger": "core.engine", "message": "Yielding audio event: sentence=3, base64_bytes=1810832, duration=21.2s", "module": "engine", "function": "chat_stream", "line": 477}
{"timestamp": "2026-02-25T13:29:48.051289+00:00", "level": "INFO", "logger": "core.graph.nodes.post_process", "message": "Saved messages: user_id=7d45464d-00e0-48ff-9b5b-f389fa23f854, soul=勇哥说财经 - 抖音, total_messages=28", "module": "post_process", "function": "post_process", "line": 41}
